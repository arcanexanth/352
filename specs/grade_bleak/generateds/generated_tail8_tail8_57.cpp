TEST(BleakVirtualMachine, tail8_tail8_57) {
  BleakVirtualMachine vm("cases/tail8.bleak", "cases/tail8_57.in");
  for (int reset = 0; reset < 5; ++reset) {
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 0 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 0 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 0 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 0 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(0, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 0 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 0 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 0 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 0 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 0 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 0 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 0 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 0 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 0 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 0 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 0 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 0 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 0 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 1 step, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 1 step, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 1 step, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 1 step, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(1, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 1 step, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 1 step, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 1 step, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 1 step, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 1 step, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 1 step, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 1 step, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 1 step, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 1 step, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 1 step, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 1 step, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(57, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 1 step, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 1 step, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 2 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 2 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 2 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 2 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(2, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 2 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 2 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 2 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 2 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 2 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 2 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 2 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 2 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 2 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 2 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 2 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(57, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 2 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(7, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 2 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 3 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 3 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 3 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 3 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(3, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 3 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 3 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 3 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 3 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 3 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 3 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 3 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 3 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 3 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 3 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 3 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(57, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 3 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(7, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 3 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 4 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 4 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 4 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 4 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(4, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 4 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 4 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 4 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 4 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 4 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 4 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 4 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 4 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 4 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 4 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 4 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(57, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 4 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(7, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 4 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 5 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 5 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 5 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 5 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(5, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 5 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 5 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 5 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 5 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 5 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 5 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 5 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 5 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 5 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 5 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 5 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(56, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 5 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(7, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 5 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 6 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 6 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 6 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 6 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(6, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 6 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 6 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 6 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 6 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 6 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 6 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 6 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 6 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 6 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 6 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 6 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(56, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 6 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 6 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 7 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 7 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 7 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 7 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(7, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 7 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 7 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 7 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 7 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 7 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 7 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 7 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 7 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 7 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 7 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 7 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(56, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 7 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 7 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 8 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 8 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 8 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 8 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(2, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 8 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 8 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 8 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 8 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 8 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 8 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 8 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 8 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 8 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 8 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 8 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(56, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 8 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 8 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 9 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 9 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 9 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 9 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(3, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 9 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 9 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 9 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 9 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 9 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 9 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 9 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 9 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 9 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 9 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 9 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(56, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 9 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 9 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 10 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 10 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 10 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 10 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(4, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 10 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 10 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 10 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 10 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 10 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 10 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 10 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 10 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 10 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(275, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 10 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 10 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(56, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 10 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 10 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 11 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 11 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 11 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 11 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(5, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 11 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 11 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 11 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 11 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 11 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 11 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 11 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 11 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 11 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(275, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 11 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 11 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(55, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 11 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 11 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 12 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 12 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 12 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 12 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(6, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 12 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 12 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 12 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 12 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 12 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 12 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 12 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 12 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 12 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(275, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 12 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 12 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(55, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 12 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 12 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 13 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 13 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 13 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 13 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(7, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 13 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 13 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 13 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 13 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 13 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 13 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 13 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 13 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 13 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(275, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 13 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 13 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(55, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 13 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 13 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 14 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 14 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 14 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 14 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(2, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 14 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 14 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 14 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 14 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 14 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 14 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 14 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 14 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 14 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(275, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 14 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 14 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(55, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 14 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 14 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 15 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 15 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 15 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 15 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(3, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 15 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 15 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 15 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 15 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 15 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 15 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 15 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 15 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 15 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(275, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 15 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 15 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(55, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 15 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 15 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 16 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 16 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 16 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 16 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(4, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 16 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 16 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 16 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 16 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 16 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 16 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 16 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 16 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(444, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 16 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(275, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 16 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 16 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(55, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 16 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 16 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 17 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 17 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 17 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 17 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(5, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 17 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 17 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 17 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 17 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 17 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 17 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 17 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 17 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(444, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 17 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(275, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 17 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 17 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(54, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 17 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 17 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 18 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 18 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 18 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 18 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(6, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 18 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 18 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 18 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 18 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 18 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 18 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 18 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 18 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(444, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 18 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(275, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 18 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 18 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(54, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 18 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 18 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 19 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 19 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 19 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 19 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(7, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 19 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 19 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 19 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 19 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 19 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 19 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 19 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 19 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(444, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 19 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(275, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 19 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 19 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(54, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 19 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 19 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 20 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 20 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 20 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 20 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(2, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 20 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 20 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 20 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 20 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 20 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 20 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 20 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 20 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(444, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 20 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(275, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 20 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 20 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(54, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 20 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 20 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 21 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 21 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 21 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 21 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(3, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 21 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 21 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 21 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 21 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 21 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 21 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 21 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 21 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(444, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 21 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(275, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 21 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 21 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(54, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 21 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 21 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 22 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 22 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 22 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 22 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(4, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 22 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 22 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 22 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 22 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 22 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 22 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 22 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(324, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 22 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(444, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 22 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(275, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 22 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 22 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(54, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 22 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 22 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 23 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 23 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 23 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 23 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(5, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 23 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 23 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 23 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 23 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 23 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 23 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 23 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(324, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 23 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(444, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 23 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(275, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 23 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 23 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(53, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 23 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 23 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 24 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 24 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 24 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 24 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(6, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 24 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 24 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 24 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 24 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 24 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 24 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 24 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(324, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 24 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(444, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 24 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(275, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 24 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 24 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(53, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 24 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 24 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 25 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 25 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 25 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 25 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(7, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 25 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 25 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 25 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 25 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 25 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 25 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 25 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(324, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 25 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(444, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 25 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(275, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 25 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 25 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(53, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 25 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 25 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 26 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 26 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 26 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 26 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(2, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 26 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 26 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 26 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 26 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 26 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 26 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 26 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(324, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 26 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(444, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 26 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(275, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 26 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 26 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(53, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 26 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 26 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 27 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 27 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 27 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 27 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(3, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 27 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 27 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 27 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 27 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 27 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 27 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 27 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(324, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 27 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(444, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 27 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(275, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 27 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 27 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(53, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 27 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 27 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 28 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 28 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 28 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 28 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(4, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 28 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 28 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 28 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 28 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 28 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 28 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-404, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 28 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(324, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 28 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(444, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 28 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(275, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 28 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 28 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(53, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 28 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 28 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 29 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 29 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 29 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 29 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(5, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 29 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 29 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 29 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 29 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 29 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 29 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-404, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 29 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(324, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 29 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(444, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 29 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(275, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 29 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 29 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(52, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 29 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 29 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 30 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 30 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 30 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 30 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(6, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 30 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 30 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 30 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 30 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 30 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 30 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-404, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 30 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(324, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 30 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(444, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 30 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(275, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 30 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 30 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(52, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 30 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 30 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 31 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 31 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 31 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 31 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(7, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 31 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 31 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 31 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 31 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 31 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 31 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-404, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 31 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(324, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 31 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(444, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 31 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(275, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 31 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 31 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(52, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 31 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 31 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 32 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 32 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 32 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 32 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(2, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 32 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 32 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 32 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 32 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 32 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 32 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-404, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 32 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(324, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 32 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(444, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 32 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(275, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 32 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 32 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(52, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 32 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 32 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 33 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 33 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 33 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 33 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(3, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 33 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 33 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 33 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 33 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 33 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 33 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-404, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 33 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(324, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 33 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(444, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 33 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(275, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 33 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 33 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(52, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 33 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 33 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 34 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 34 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 34 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 34 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(4, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 34 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(7, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 34 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 34 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 34 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 34 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-74, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 34 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-404, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 34 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(324, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 34 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(444, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 34 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(275, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 34 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 34 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(52, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 34 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 34 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 35 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 35 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 35 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 35 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(5, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 35 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(7, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 35 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 35 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 35 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 35 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-74, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 35 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-404, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 35 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(324, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 35 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(444, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 35 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(275, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 35 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 35 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(51, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 35 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 35 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 36 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 36 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 36 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 36 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(6, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 36 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(7, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 36 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 36 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 36 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 36 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-74, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 36 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-404, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 36 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(324, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 36 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(444, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 36 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(275, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 36 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 36 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(51, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 36 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 36 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 37 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 37 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 37 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 37 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(7, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 37 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(7, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 37 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 37 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 37 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 37 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-74, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 37 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-404, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 37 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(324, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 37 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(444, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 37 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(275, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 37 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 37 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(51, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 37 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 37 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 38 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 38 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 38 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 38 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(2, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 38 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(7, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 38 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 38 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 38 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 38 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-74, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 38 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-404, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 38 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(324, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 38 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(444, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 38 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(275, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 38 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 38 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(51, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 38 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 38 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 39 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 39 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 39 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 39 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(3, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 39 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(7, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 39 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 39 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 39 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 39 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-74, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 39 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-404, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 39 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(324, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 39 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(444, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 39 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(275, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 39 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 39 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(51, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 39 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 39 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 40 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 40 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 40 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 40 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(4, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 40 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(8, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 40 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 40 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 40 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-393, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 40 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-74, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 40 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-404, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 40 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(324, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 40 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(444, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 40 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(275, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 40 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 40 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(51, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 40 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 40 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 41 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 41 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 41 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 41 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(5, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 41 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(8, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 41 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 41 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 41 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-393, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 41 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-74, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 41 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-404, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 41 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(324, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 41 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(444, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 41 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(275, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 41 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 41 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(50, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 41 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 41 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 42 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 42 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 42 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 42 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(6, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 42 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(8, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 42 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 42 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 42 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-393, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 42 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-74, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 42 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-404, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 42 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(324, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 42 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(444, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 42 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(275, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 42 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 42 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(50, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 42 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 42 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 43 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 43 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 43 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 43 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(7, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 43 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(8, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 43 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 43 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 43 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-393, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 43 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-74, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 43 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-404, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 43 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(324, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 43 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(444, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 43 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(275, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 43 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 43 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(50, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 43 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 43 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 44 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 44 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 44 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 44 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(2, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 44 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(8, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 44 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 44 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 44 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-393, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 44 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-74, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 44 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-404, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 44 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(324, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 44 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(444, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 44 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(275, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 44 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 44 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(50, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 44 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 44 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 45 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 45 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 45 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 45 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(3, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 45 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(8, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 45 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 45 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 45 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-393, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 45 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-74, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 45 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-404, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 45 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(324, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 45 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(444, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 45 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(275, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 45 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 45 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(50, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 45 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 45 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 46 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 46 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 46 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 46 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(4, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 46 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(9, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 46 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 46 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(438, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 46 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-393, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 46 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-74, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 46 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-404, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 46 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(324, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 46 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(444, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 46 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(275, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 46 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 46 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(50, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 46 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 46 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 47 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 47 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 47 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 47 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(5, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 47 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(9, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 47 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 47 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(438, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 47 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-393, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 47 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-74, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 47 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-404, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 47 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(324, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 47 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(444, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 47 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(275, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 47 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 47 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(49, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 47 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 47 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 48 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 48 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 48 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 48 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(6, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 48 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(9, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 48 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 48 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(438, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 48 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-393, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 48 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-74, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 48 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-404, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 48 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(324, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 48 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(444, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 48 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(275, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 48 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 48 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(49, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 48 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(-1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 48 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 49 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 49 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 49 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 49 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(1, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 49 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(9, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 49 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 49 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(438, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 49 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-393, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 49 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-74, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 49 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-404, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 49 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(324, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 49 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(444, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 49 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(275, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 49 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 49 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(49, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 49 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(-1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 49 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 50 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 50 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 50 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 50 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(2, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 50 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(9, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 50 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 50 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(438, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 50 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-393, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 50 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-74, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 50 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-404, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 50 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(324, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 50 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(444, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 50 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(275, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 50 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 50 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(49, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 50 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(7, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 50 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 51 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 51 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 51 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 51 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(3, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 51 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(9, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 51 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 51 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(438, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 51 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-393, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 51 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-74, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 51 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-404, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 51 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(324, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 51 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(444, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 51 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(275, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 51 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 51 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(49, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 51 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(7, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 51 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 52 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 52 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 52 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 52 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(4, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 52 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(10, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 52 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 52 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(438, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 52 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-393, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 52 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-74, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 52 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-404, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 52 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(324, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 52 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(444, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 52 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(275, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 52 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-18, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 52 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(49, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 52 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(7, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 52 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 53 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 53 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 53 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 53 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(5, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 53 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(10, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 53 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 53 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(438, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 53 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-393, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 53 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-74, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 53 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-404, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 53 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(324, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 53 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(444, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 53 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(275, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 53 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-18, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 53 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(48, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 53 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(7, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 53 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 54 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 54 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 54 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 54 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(6, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 54 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(10, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 54 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 54 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(438, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 54 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-393, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 54 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-74, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 54 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-404, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 54 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(324, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 54 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(444, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 54 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(275, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 54 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-18, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 54 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(48, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 54 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 54 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 55 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 55 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 55 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 55 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(7, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 55 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(10, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 55 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 55 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(438, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 55 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-393, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 55 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-74, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 55 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-404, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 55 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(324, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 55 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(444, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 55 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(275, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 55 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-18, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 55 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(48, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 55 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 55 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 56 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 56 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 56 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 56 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(2, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 56 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(10, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 56 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 56 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(438, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 56 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-393, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 56 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-74, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 56 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-404, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 56 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(324, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 56 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(444, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 56 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(275, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 56 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-18, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 56 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(48, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 56 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 56 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 57 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 57 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 57 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 57 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(3, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 57 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(10, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 57 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 57 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(438, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 57 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-393, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 57 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-74, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 57 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-404, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 57 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(324, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 57 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(444, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 57 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(275, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 57 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-18, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 57 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(48, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 57 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 57 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 58 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 58 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 58 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 58 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(4, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 58 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(11, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 58 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 58 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(438, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 58 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-393, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 58 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-74, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 58 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-404, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 58 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(324, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 58 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(444, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 58 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-260, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 58 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-18, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 58 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(48, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 58 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 58 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 59 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 59 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 59 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 59 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(5, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 59 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(11, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 59 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 59 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(438, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 59 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-393, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 59 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-74, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 59 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-404, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 59 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(324, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 59 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(444, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 59 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-260, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 59 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-18, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 59 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(47, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 59 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 59 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 60 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 60 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 60 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 60 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(6, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 60 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(11, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 60 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 60 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(438, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 60 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-393, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 60 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-74, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 60 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-404, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 60 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(324, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 60 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(444, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 60 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-260, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 60 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-18, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 60 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(47, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 60 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 60 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 61 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 61 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 61 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 61 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(7, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 61 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(11, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 61 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 61 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(438, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 61 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-393, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 61 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-74, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 61 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-404, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 61 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(324, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 61 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(444, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 61 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-260, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 61 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-18, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 61 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(47, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 61 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 61 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 62 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 62 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 62 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 62 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(2, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 62 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(11, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 62 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 62 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(438, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 62 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-393, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 62 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-74, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 62 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-404, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 62 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(324, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 62 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(444, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 62 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-260, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 62 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-18, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 62 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(47, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 62 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 62 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 63 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 63 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 63 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 63 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(3, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 63 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(11, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 63 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 63 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(438, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 63 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-393, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 63 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-74, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 63 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-404, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 63 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(324, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 63 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(444, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 63 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-260, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 63 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-18, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 63 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(47, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 63 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 63 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 64 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 64 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 64 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 64 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(4, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 64 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(12, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 64 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 64 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(438, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 64 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-393, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 64 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-74, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 64 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-404, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 64 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(324, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 64 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-224, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 64 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-260, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 64 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-18, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 64 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(47, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 64 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 64 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 65 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 65 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 65 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 65 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(5, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 65 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(12, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 65 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 65 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(438, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 65 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-393, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 65 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-74, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 65 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-404, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 65 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(324, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 65 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-224, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 65 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-260, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 65 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-18, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 65 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(46, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 65 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 65 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 66 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 66 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 66 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 66 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(6, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 66 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(12, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 66 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 66 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(438, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 66 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-393, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 66 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-74, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 66 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-404, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 66 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(324, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 66 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-224, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 66 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-260, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 66 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-18, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 66 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(46, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 66 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 66 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 67 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 67 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 67 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 67 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(7, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 67 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(12, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 67 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 67 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(438, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 67 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-393, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 67 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-74, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 67 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-404, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 67 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(324, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 67 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-224, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 67 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-260, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 67 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-18, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 67 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(46, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 67 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 67 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 68 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 68 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 68 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 68 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(2, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 68 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(12, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 68 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 68 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(438, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 68 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-393, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 68 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-74, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 68 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-404, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 68 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(324, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 68 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-224, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 68 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-260, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 68 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-18, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 68 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(46, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 68 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 68 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 69 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 69 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 69 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 69 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(3, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 69 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(12, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 69 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 69 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(438, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 69 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-393, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 69 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-74, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 69 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-404, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 69 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(324, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 69 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-224, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 69 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-260, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 69 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-18, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 69 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(46, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 69 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 69 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 70 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 70 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 70 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 70 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(4, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 70 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(13, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 70 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 70 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(438, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 70 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-393, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 70 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-74, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 70 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-404, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 70 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-444, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 70 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-224, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 70 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-260, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 70 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-18, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 70 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(46, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 70 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 70 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 71 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 71 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 71 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 71 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(5, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 71 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(13, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 71 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 71 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(438, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 71 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-393, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 71 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-74, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 71 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-404, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 71 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-444, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 71 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-224, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 71 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-260, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 71 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-18, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 71 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(45, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 71 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 71 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 72 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 72 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 72 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 72 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(6, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 72 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(13, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 72 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 72 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(438, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 72 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-393, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 72 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-74, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 72 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-404, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 72 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-444, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 72 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-224, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 72 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-260, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 72 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-18, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 72 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(45, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 72 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 72 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 73 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 73 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 73 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 73 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(7, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 73 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(13, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 73 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 73 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(438, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 73 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-393, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 73 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-74, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 73 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-404, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 73 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-444, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 73 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-224, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 73 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-260, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 73 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-18, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 73 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(45, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 73 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 73 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 74 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 74 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 74 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 74 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(2, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 74 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(13, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 74 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 74 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(438, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 74 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-393, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 74 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-74, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 74 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-404, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 74 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-444, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 74 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-224, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 74 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-260, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 74 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-18, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 74 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(45, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 74 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 74 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 75 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 75 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 75 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 75 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(3, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 75 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(13, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 75 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 75 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(438, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 75 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-393, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 75 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-74, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 75 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-404, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 75 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-444, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 75 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-224, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 75 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-260, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 75 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-18, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 75 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(45, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 75 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 75 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 76 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 76 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 76 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 76 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(4, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 76 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(14, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 76 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 76 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(438, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 76 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-393, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 76 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-74, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 76 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(101, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 76 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-444, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 76 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-224, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 76 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-260, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 76 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-18, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 76 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(45, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 76 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 76 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 77 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 77 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 77 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 77 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(5, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 77 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(14, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 77 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 77 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(438, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 77 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-393, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 77 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-74, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 77 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(101, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 77 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-444, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 77 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-224, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 77 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-260, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 77 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-18, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 77 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(44, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 77 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 77 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 78 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 78 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 78 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 78 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(6, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 78 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(14, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 78 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 78 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(438, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 78 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-393, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 78 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-74, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 78 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(101, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 78 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-444, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 78 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-224, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 78 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-260, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 78 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-18, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 78 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(44, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 78 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 78 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 79 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 79 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 79 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 79 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(7, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 79 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(14, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 79 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 79 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(438, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 79 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-393, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 79 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-74, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 79 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(101, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 79 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-444, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 79 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-224, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 79 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-260, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 79 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-18, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 79 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(44, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 79 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 79 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 80 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 80 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 80 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 80 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(2, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 80 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(14, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 80 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 80 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(438, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 80 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-393, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 80 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-74, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 80 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(101, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 80 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-444, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 80 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-224, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 80 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-260, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 80 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-18, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 80 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(44, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 80 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 80 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 81 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 81 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 81 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 81 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(3, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 81 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(14, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 81 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 81 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(438, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 81 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-393, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 81 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-74, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 81 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(101, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 81 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-444, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 81 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-224, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 81 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-260, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 81 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-18, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 81 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(44, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 81 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 81 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 82 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 82 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 82 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 82 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(4, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 82 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(15, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 82 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 82 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(438, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 82 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-393, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 82 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-407, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 82 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(101, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 82 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-444, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 82 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-224, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 82 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-260, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 82 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-18, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 82 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(44, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 82 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 82 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 83 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 83 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 83 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 83 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(5, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 83 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(15, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 83 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 83 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(438, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 83 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-393, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 83 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-407, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 83 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(101, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 83 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-444, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 83 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-224, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 83 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-260, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 83 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-18, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 83 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(43, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 83 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 83 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 84 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 84 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 84 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 84 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(6, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 84 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(15, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 84 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 84 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(438, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 84 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-393, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 84 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-407, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 84 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(101, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 84 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-444, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 84 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-224, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 84 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-260, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 84 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-18, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 84 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(43, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 84 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 84 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 85 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 85 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 85 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 85 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(7, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 85 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(15, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 85 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 85 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(438, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 85 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-393, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 85 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-407, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 85 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(101, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 85 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-444, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 85 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-224, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 85 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-260, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 85 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-18, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 85 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(43, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 85 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 85 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 86 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 86 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 86 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 86 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(2, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 86 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(15, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 86 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 86 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(438, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 86 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-393, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 86 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-407, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 86 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(101, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 86 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-444, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 86 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-224, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 86 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-260, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 86 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-18, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 86 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(43, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 86 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 86 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 87 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 87 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 87 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 87 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(3, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 87 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(15, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 87 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 87 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(438, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 87 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-393, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 87 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-407, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 87 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(101, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 87 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-444, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 87 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-224, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 87 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-260, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 87 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-18, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 87 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(43, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 87 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 87 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 88 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 88 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 88 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 88 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(4, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 88 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(16, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 88 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 88 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(438, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 88 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(118, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 88 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-407, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 88 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(101, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 88 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-444, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 88 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-224, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 88 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-260, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 88 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-18, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 88 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(43, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 88 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 88 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 89 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 89 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 89 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 89 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(5, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 89 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(16, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 89 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 89 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(438, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 89 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(118, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 89 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-407, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 89 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(101, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 89 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-444, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 89 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-224, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 89 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-260, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 89 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-18, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 89 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(42, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 89 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 89 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 90 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 90 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 90 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 90 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(6, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 90 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(16, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 90 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 90 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(438, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 90 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(118, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 90 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-407, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 90 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(101, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 90 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-444, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 90 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-224, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 90 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-260, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 90 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-18, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 90 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(42, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 90 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 90 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 91 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 91 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 91 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 91 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(7, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 91 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(16, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 91 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 91 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(438, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 91 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(118, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 91 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-407, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 91 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(101, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 91 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-444, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 91 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-224, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 91 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-260, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 91 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-18, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 91 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(42, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 91 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 91 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 92 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 92 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 92 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 92 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(2, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 92 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(16, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 92 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 92 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(438, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 92 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(118, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 92 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-407, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 92 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(101, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 92 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-444, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 92 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-224, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 92 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-260, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 92 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-18, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 92 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(42, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 92 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 92 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 93 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 93 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 93 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 93 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(3, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 93 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(16, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 93 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 93 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(438, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 93 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(118, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 93 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-407, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 93 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(101, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 93 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-444, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 93 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-224, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 93 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-260, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 93 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-18, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 93 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(42, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 93 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 93 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 94 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 94 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 94 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 94 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(4, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 94 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(17, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 94 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 94 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(-424, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 94 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(118, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 94 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-407, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 94 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(101, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 94 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-444, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 94 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-224, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 94 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-260, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 94 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-18, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 94 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(42, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 94 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 94 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 95 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 95 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 95 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 95 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(5, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 95 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(17, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 95 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 95 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(-424, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 95 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(118, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 95 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-407, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 95 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(101, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 95 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-444, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 95 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-224, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 95 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-260, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 95 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-18, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 95 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(41, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 95 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 95 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 96 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 96 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 96 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 96 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(6, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 96 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(17, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 96 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 96 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(-424, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 96 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(118, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 96 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-407, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 96 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(101, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 96 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-444, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 96 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-224, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 96 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-260, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 96 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-18, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 96 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(41, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 96 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(-1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 96 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 97 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 97 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 97 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 97 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(1, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 97 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(17, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 97 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 97 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(-424, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 97 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(118, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 97 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-407, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 97 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(101, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 97 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-444, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 97 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-224, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 97 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-260, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 97 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-18, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 97 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(41, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 97 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(-1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 97 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 98 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 98 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 98 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 98 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(2, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 98 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(17, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 98 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 98 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(-424, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 98 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(118, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 98 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-407, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 98 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(101, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 98 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-444, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 98 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-224, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 98 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-260, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 98 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-18, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 98 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(41, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 98 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(7, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 98 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 99 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 99 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 99 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 99 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(3, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 99 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(17, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 99 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 99 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(-424, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 99 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(118, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 99 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-407, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 99 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(101, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 99 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-444, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 99 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-224, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 99 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-260, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 99 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-18, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 99 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(41, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 99 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(7, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 99 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 100 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 100 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 100 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 100 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(4, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 100 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(18, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 100 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 100 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(-424, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 100 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(118, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 100 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-407, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 100 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(101, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 100 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-444, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 100 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-224, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 100 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-260, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 100 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-478, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 100 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(41, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 100 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(7, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 100 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 101 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 101 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 101 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 101 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(5, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 101 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(18, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 101 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 101 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(-424, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 101 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(118, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 101 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-407, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 101 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(101, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 101 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-444, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 101 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-224, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 101 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-260, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 101 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-478, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 101 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(40, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 101 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(7, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 101 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 102 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 102 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 102 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 102 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(6, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 102 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(18, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 102 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 102 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(-424, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 102 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(118, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 102 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-407, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 102 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(101, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 102 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-444, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 102 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-224, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 102 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-260, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 102 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-478, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 102 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(40, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 102 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 102 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 103 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 103 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 103 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 103 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(7, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 103 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(18, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 103 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 103 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(-424, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 103 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(118, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 103 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-407, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 103 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(101, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 103 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-444, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 103 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-224, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 103 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-260, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 103 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-478, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 103 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(40, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 103 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 103 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 104 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 104 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 104 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 104 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(2, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 104 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(18, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 104 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 104 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(-424, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 104 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(118, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 104 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-407, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 104 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(101, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 104 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-444, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 104 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-224, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 104 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-260, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 104 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-478, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 104 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(40, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 104 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 104 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 105 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 105 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 105 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 105 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(3, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 105 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(18, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 105 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 105 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(-424, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 105 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(118, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 105 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-407, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 105 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(101, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 105 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-444, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 105 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-224, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 105 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-260, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 105 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-478, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 105 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(40, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 105 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 105 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 106 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 106 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 106 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 106 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(4, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 106 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(19, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 106 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 106 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(-424, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 106 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(118, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 106 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-407, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 106 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(101, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 106 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-444, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 106 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-224, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 106 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-67, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 106 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-478, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 106 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(40, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 106 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 106 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 107 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 107 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 107 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 107 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(5, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 107 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(19, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 107 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 107 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(-424, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 107 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(118, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 107 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-407, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 107 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(101, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 107 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-444, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 107 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-224, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 107 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-67, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 107 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-478, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 107 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(39, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 107 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 107 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 108 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 108 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 108 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 108 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(6, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 108 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(19, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 108 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 108 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(-424, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 108 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(118, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 108 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-407, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 108 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(101, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 108 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-444, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 108 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-224, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 108 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-67, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 108 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-478, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 108 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(39, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 108 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 108 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 109 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 109 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 109 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 109 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(7, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 109 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(19, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 109 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 109 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(-424, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 109 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(118, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 109 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-407, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 109 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(101, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 109 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-444, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 109 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-224, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 109 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-67, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 109 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-478, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 109 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(39, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 109 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 109 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 110 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 110 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 110 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 110 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(2, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 110 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(19, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 110 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 110 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(-424, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 110 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(118, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 110 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-407, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 110 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(101, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 110 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-444, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 110 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-224, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 110 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-67, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 110 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-478, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 110 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(39, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 110 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 110 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 111 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 111 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 111 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 111 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(3, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 111 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(19, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 111 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 111 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(-424, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 111 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(118, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 111 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-407, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 111 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(101, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 111 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-444, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 111 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-224, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 111 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-67, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 111 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-478, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 111 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(39, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 111 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 111 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 112 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 112 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 112 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 112 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(4, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 112 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(20, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 112 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 112 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(-424, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 112 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(118, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 112 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-407, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 112 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(101, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 112 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-444, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 112 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 112 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-67, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 112 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-478, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 112 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(39, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 112 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 112 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 113 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 113 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 113 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 113 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(5, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 113 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(20, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 113 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 113 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(-424, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 113 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(118, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 113 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-407, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 113 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(101, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 113 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-444, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 113 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 113 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-67, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 113 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-478, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 113 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(38, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 113 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 113 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 114 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 114 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 114 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 114 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(6, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 114 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(20, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 114 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 114 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(-424, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 114 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(118, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 114 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-407, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 114 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(101, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 114 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-444, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 114 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 114 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-67, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 114 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-478, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 114 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(38, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 114 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 114 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 115 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 115 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 115 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 115 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(7, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 115 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(20, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 115 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 115 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(-424, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 115 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(118, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 115 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-407, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 115 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(101, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 115 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-444, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 115 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 115 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-67, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 115 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-478, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 115 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(38, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 115 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 115 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 116 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 116 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 116 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 116 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(2, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 116 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(20, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 116 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 116 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(-424, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 116 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(118, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 116 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-407, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 116 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(101, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 116 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-444, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 116 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 116 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-67, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 116 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-478, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 116 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(38, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 116 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 116 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 117 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 117 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 117 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 117 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(3, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 117 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(20, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 117 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 117 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(-424, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 117 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(118, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 117 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-407, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 117 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(101, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 117 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-444, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 117 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 117 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-67, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 117 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-478, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 117 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(38, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 117 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 117 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 118 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 118 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 118 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 118 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(4, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 118 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(21, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 118 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 118 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(-424, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 118 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(118, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 118 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-407, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 118 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(101, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 118 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-488, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 118 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 118 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-67, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 118 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-478, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 118 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(38, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 118 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 118 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 119 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 119 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 119 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 119 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(5, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 119 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(21, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 119 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 119 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(-424, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 119 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(118, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 119 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-407, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 119 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(101, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 119 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-488, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 119 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 119 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-67, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 119 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-478, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 119 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(37, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 119 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 119 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 120 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 120 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 120 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 120 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(6, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 120 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(21, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 120 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 120 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(-424, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 120 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(118, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 120 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-407, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 120 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(101, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 120 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-488, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 120 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 120 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-67, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 120 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-478, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 120 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(37, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 120 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 120 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 121 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 121 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 121 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 121 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(7, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 121 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(21, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 121 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 121 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(-424, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 121 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(118, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 121 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-407, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 121 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(101, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 121 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-488, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 121 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 121 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-67, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 121 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-478, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 121 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(37, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 121 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 121 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 122 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 122 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 122 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 122 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(2, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 122 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(21, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 122 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 122 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(-424, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 122 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(118, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 122 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-407, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 122 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(101, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 122 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-488, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 122 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 122 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-67, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 122 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-478, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 122 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(37, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 122 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 122 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 123 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 123 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 123 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 123 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(3, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 123 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(21, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 123 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 123 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(-424, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 123 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(118, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 123 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-407, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 123 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(101, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 123 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-488, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 123 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 123 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-67, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 123 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-478, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 123 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(37, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 123 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 123 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 124 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 124 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 124 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 124 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(4, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 124 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(22, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 124 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 124 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(-424, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 124 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(118, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 124 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-407, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 124 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(293, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 124 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-488, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 124 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 124 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-67, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 124 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-478, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 124 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(37, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 124 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 124 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 125 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 125 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 125 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 125 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(5, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 125 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(22, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 125 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 125 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(-424, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 125 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(118, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 125 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-407, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 125 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(293, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 125 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-488, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 125 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 125 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-67, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 125 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-478, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 125 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(36, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 125 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 125 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 126 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 126 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 126 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 126 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(6, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 126 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(22, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 126 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 126 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(-424, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 126 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(118, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 126 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-407, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 126 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(293, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 126 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-488, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 126 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 126 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-67, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 126 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-478, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 126 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(36, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 126 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 126 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 127 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 127 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 127 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 127 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(7, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 127 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(22, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 127 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 127 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(-424, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 127 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(118, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 127 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-407, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 127 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(293, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 127 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-488, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 127 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 127 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-67, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 127 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-478, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 127 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(36, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 127 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 127 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 128 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 128 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 128 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 128 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(2, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 128 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(22, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 128 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 128 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(-424, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 128 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(118, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 128 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-407, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 128 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(293, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 128 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-488, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 128 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 128 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-67, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 128 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-478, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 128 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(36, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 128 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 128 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 129 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 129 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 129 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 129 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(3, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 129 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(22, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 129 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 129 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(-424, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 129 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(118, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 129 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-407, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 129 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(293, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 129 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-488, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 129 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 129 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-67, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 129 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-478, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 129 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(36, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 129 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 129 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 130 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 130 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 130 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 130 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(4, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 130 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(23, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 130 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 130 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(-424, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 130 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(118, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 130 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(18, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 130 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(293, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 130 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-488, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 130 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 130 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-67, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 130 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-478, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 130 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(36, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 130 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 130 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 131 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 131 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 131 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 131 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(5, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 131 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(23, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 131 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 131 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(-424, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 131 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(118, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 131 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(18, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 131 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(293, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 131 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-488, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 131 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 131 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-67, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 131 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-478, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 131 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(35, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 131 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 131 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 132 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 132 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 132 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 132 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(6, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 132 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(23, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 132 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 132 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(-424, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 132 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(118, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 132 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(18, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 132 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(293, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 132 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-488, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 132 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 132 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-67, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 132 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-478, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 132 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(35, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 132 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 132 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 133 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 133 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 133 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 133 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(7, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 133 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(23, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 133 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 133 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(-424, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 133 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(118, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 133 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(18, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 133 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(293, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 133 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-488, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 133 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 133 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-67, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 133 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-478, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 133 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(35, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 133 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 133 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 134 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 134 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 134 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 134 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(2, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 134 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(23, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 134 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 134 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(-424, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 134 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(118, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 134 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(18, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 134 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(293, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 134 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-488, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 134 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 134 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-67, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 134 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-478, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 134 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(35, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 134 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 134 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 135 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 135 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 135 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 135 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(3, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 135 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(23, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 135 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 135 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(-424, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 135 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(118, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 135 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(18, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 135 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(293, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 135 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-488, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 135 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 135 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-67, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 135 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-478, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 135 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(35, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 135 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 135 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 136 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 136 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 136 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 136 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(4, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 136 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(24, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 136 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 136 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(-424, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 136 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-450, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 136 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(18, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 136 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(293, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 136 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-488, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 136 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 136 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-67, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 136 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-478, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 136 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(35, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 136 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 136 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 137 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 137 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 137 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 137 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(5, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 137 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(24, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 137 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 137 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(-424, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 137 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-450, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 137 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(18, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 137 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(293, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 137 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-488, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 137 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 137 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-67, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 137 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-478, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 137 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(34, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 137 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 137 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 138 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 138 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 138 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 138 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(6, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 138 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(24, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 138 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 138 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(-424, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 138 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-450, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 138 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(18, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 138 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(293, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 138 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-488, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 138 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 138 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-67, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 138 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-478, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 138 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(34, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 138 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 138 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 139 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 139 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 139 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 139 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(7, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 139 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(24, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 139 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 139 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(-424, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 139 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-450, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 139 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(18, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 139 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(293, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 139 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-488, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 139 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 139 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-67, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 139 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-478, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 139 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(34, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 139 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 139 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 140 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 140 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 140 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 140 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(2, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 140 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(24, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 140 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 140 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(-424, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 140 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-450, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 140 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(18, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 140 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(293, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 140 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-488, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 140 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 140 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-67, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 140 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-478, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 140 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(34, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 140 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 140 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 141 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 141 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 141 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 141 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(3, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 141 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(24, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 141 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 141 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(-424, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 141 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-450, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 141 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(18, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 141 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(293, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 141 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-488, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 141 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 141 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-67, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 141 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-478, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 141 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(34, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 141 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 141 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 142 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 142 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 142 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 142 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(4, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 142 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(25, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 142 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 142 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(454, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 142 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-450, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 142 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(18, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 142 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(293, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 142 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-488, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 142 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 142 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-67, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 142 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-478, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 142 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(34, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 142 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 142 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 143 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 143 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 143 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 143 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(5, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 143 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(25, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 143 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 143 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(454, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 143 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-450, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 143 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(18, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 143 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(293, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 143 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-488, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 143 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 143 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-67, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 143 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-478, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 143 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(33, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 143 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 143 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 144 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 144 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 144 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 144 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(6, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 144 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(25, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 144 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 144 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(454, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 144 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-450, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 144 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(18, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 144 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(293, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 144 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-488, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 144 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 144 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-67, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 144 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-478, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 144 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(33, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 144 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(-1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 144 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 145 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 145 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 145 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 145 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(1, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 145 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(25, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 145 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 145 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(454, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 145 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-450, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 145 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(18, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 145 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(293, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 145 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-488, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 145 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 145 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-67, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 145 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-478, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 145 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(33, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 145 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(-1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 145 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 146 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 146 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 146 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 146 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(2, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 146 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(25, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 146 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 146 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(454, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 146 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-450, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 146 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(18, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 146 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(293, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 146 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-488, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 146 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 146 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-67, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 146 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-478, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 146 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(33, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 146 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(7, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 146 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 147 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 147 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 147 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 147 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(3, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 147 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(25, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 147 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 147 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(454, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 147 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-450, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 147 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(18, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 147 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(293, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 147 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-488, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 147 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 147 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-67, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 147 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-478, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 147 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(33, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 147 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(7, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 147 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 148 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 148 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 148 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 148 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(4, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 148 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(26, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 148 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 148 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(454, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 148 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-450, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 148 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(18, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 148 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(293, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 148 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-488, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 148 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 148 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-67, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 148 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(370, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 148 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(33, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 148 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(7, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 148 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 149 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 149 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 149 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 149 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(5, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 149 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(26, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 149 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 149 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(454, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 149 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-450, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 149 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(18, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 149 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(293, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 149 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-488, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 149 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 149 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-67, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 149 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(370, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 149 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(32, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 149 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(7, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 149 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 150 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 150 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 150 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 150 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(6, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 150 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(26, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 150 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 150 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(454, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 150 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-450, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 150 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(18, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 150 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(293, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 150 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-488, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 150 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 150 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-67, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 150 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(370, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 150 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(32, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 150 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 150 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 151 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 151 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 151 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 151 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(7, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 151 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(26, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 151 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 151 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(454, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 151 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-450, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 151 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(18, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 151 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(293, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 151 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-488, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 151 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 151 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-67, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 151 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(370, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 151 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(32, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 151 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 151 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 152 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 152 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 152 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 152 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(2, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 152 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(26, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 152 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 152 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(454, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 152 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-450, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 152 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(18, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 152 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(293, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 152 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-488, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 152 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 152 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-67, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 152 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(370, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 152 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(32, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 152 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 152 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 153 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 153 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 153 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 153 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(3, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 153 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(26, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 153 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 153 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(454, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 153 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-450, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 153 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(18, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 153 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(293, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 153 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-488, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 153 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 153 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-67, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 153 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(370, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 153 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(32, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 153 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 153 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 154 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 154 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 154 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 154 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(4, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 154 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(27, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 154 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 154 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(454, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 154 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-450, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 154 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(18, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 154 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(293, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 154 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-488, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 154 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 154 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-159, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 154 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(370, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 154 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(32, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 154 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 154 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 155 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 155 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 155 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 155 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(5, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 155 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(27, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 155 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 155 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(454, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 155 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-450, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 155 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(18, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 155 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(293, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 155 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-488, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 155 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 155 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-159, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 155 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(370, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 155 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(31, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 155 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 155 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 156 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 156 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 156 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 156 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(6, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 156 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(27, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 156 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 156 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(454, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 156 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-450, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 156 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(18, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 156 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(293, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 156 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-488, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 156 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 156 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-159, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 156 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(370, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 156 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(31, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 156 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 156 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 157 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 157 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 157 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 157 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(7, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 157 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(27, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 157 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 157 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(454, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 157 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-450, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 157 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(18, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 157 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(293, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 157 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-488, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 157 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 157 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-159, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 157 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(370, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 157 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(31, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 157 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 157 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 158 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 158 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 158 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 158 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(2, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 158 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(27, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 158 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 158 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(454, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 158 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-450, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 158 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(18, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 158 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(293, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 158 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-488, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 158 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 158 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-159, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 158 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(370, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 158 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(31, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 158 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 158 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 159 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 159 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 159 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 159 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(3, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 159 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(27, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 159 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 159 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(454, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 159 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-450, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 159 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(18, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 159 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(293, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 159 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-488, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 159 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 159 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-159, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 159 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(370, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 159 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(31, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 159 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 159 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 160 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 160 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 160 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 160 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(4, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 160 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(28, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 160 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 160 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(454, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 160 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-450, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 160 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(18, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 160 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(293, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 160 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-488, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 160 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(27, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 160 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-159, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 160 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(370, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 160 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(31, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 160 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 160 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 161 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 161 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 161 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 161 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(5, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 161 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(28, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 161 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 161 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(454, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 161 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-450, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 161 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(18, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 161 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(293, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 161 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-488, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 161 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(27, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 161 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-159, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 161 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(370, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 161 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(30, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 161 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 161 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 162 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 162 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 162 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 162 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(6, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 162 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(28, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 162 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 162 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(454, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 162 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-450, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 162 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(18, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 162 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(293, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 162 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-488, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 162 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(27, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 162 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-159, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 162 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(370, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 162 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(30, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 162 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 162 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 163 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 163 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 163 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 163 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(7, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 163 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(28, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 163 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 163 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(454, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 163 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-450, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 163 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(18, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 163 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(293, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 163 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-488, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 163 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(27, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 163 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-159, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 163 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(370, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 163 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(30, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 163 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 163 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 164 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 164 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 164 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 164 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(2, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 164 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(28, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 164 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 164 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(454, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 164 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-450, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 164 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(18, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 164 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(293, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 164 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-488, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 164 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(27, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 164 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-159, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 164 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(370, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 164 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(30, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 164 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 164 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 165 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 165 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 165 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 165 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(3, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 165 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(28, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 165 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 165 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(454, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 165 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-450, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 165 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(18, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 165 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(293, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 165 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-488, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 165 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(27, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 165 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-159, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 165 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(370, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 165 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(30, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 165 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 165 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 166 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 166 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 166 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 166 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(4, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 166 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(29, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 166 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 166 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(454, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 166 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-450, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 166 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(18, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 166 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(293, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 166 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-208, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 166 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(27, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 166 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-159, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 166 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(370, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 166 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(30, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 166 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 166 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 167 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 167 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 167 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 167 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(5, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 167 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(29, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 167 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 167 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(454, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 167 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-450, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 167 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(18, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 167 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(293, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 167 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-208, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 167 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(27, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 167 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-159, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 167 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(370, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 167 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(29, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 167 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 167 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 168 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 168 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 168 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 168 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(6, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 168 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(29, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 168 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 168 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(454, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 168 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-450, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 168 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(18, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 168 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(293, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 168 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-208, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 168 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(27, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 168 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-159, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 168 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(370, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 168 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(29, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 168 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 168 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 169 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 169 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 169 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 169 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(7, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 169 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(29, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 169 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 169 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(454, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 169 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-450, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 169 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(18, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 169 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(293, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 169 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-208, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 169 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(27, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 169 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-159, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 169 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(370, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 169 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(29, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 169 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 169 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 170 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 170 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 170 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 170 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(2, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 170 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(29, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 170 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 170 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(454, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 170 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-450, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 170 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(18, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 170 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(293, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 170 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-208, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 170 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(27, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 170 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-159, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 170 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(370, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 170 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(29, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 170 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 170 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 171 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 171 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 171 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 171 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(3, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 171 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(29, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 171 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 171 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(454, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 171 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-450, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 171 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(18, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 171 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(293, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 171 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-208, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 171 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(27, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 171 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-159, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 171 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(370, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 171 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(29, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 171 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 171 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 172 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 172 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 172 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 172 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(4, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 172 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(30, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 172 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 172 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(454, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 172 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-450, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 172 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(18, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 172 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-303, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 172 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-208, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 172 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(27, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 172 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-159, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 172 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(370, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 172 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(29, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 172 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 172 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 173 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 173 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 173 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 173 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(5, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 173 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(30, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 173 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 173 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(454, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 173 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-450, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 173 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(18, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 173 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-303, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 173 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-208, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 173 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(27, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 173 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-159, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 173 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(370, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 173 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(28, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 173 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 173 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 174 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 174 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 174 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 174 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(6, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 174 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(30, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 174 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 174 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(454, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 174 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-450, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 174 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(18, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 174 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-303, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 174 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-208, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 174 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(27, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 174 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-159, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 174 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(370, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 174 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(28, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 174 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 174 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 175 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 175 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 175 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 175 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(7, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 175 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(30, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 175 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 175 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(454, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 175 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-450, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 175 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(18, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 175 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-303, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 175 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-208, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 175 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(27, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 175 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-159, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 175 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(370, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 175 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(28, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 175 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 175 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 176 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 176 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 176 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 176 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(2, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 176 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(30, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 176 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 176 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(454, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 176 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-450, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 176 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(18, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 176 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-303, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 176 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-208, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 176 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(27, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 176 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-159, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 176 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(370, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 176 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(28, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 176 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 176 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 177 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 177 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 177 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 177 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(3, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 177 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(30, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 177 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 177 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(454, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 177 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-450, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 177 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(18, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 177 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-303, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 177 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-208, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 177 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(27, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 177 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-159, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 177 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(370, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 177 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(28, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 177 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 177 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 178 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 178 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 178 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 178 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(4, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 178 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(31, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 178 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 178 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(454, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 178 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-450, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 178 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(294, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 178 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-303, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 178 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-208, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 178 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(27, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 178 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-159, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 178 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(370, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 178 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(28, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 178 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 178 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 179 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 179 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 179 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 179 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(5, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 179 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(31, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 179 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 179 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(454, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 179 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-450, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 179 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(294, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 179 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-303, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 179 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-208, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 179 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(27, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 179 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-159, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 179 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(370, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 179 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(27, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 179 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 179 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 180 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 180 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 180 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 180 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(6, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 180 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(31, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 180 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 180 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(454, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 180 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-450, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 180 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(294, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 180 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-303, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 180 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-208, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 180 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(27, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 180 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-159, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 180 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(370, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 180 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(27, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 180 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 180 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 181 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 181 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 181 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 181 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(7, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 181 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(31, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 181 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 181 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(454, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 181 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-450, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 181 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(294, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 181 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-303, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 181 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-208, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 181 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(27, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 181 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-159, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 181 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(370, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 181 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(27, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 181 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 181 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 182 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 182 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 182 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 182 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(2, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 182 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(31, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 182 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 182 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(454, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 182 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-450, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 182 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(294, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 182 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-303, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 182 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-208, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 182 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(27, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 182 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-159, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 182 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(370, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 182 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(27, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 182 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 182 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 183 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 183 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 183 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 183 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(3, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 183 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(31, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 183 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 183 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(454, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 183 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-450, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 183 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(294, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 183 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-303, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 183 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-208, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 183 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(27, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 183 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-159, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 183 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(370, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 183 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(27, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 183 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 183 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 184 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 184 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 184 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 184 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(4, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 184 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(32, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 184 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 184 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(454, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 184 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-327, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 184 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(294, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 184 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-303, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 184 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-208, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 184 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(27, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 184 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-159, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 184 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(370, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 184 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(27, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 184 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 184 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 185 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 185 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 185 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 185 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(5, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 185 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(32, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 185 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 185 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(454, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 185 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-327, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 185 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(294, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 185 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-303, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 185 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-208, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 185 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(27, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 185 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-159, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 185 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(370, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 185 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(26, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 185 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 185 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 186 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 186 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 186 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 186 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(6, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 186 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(32, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 186 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 186 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(454, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 186 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-327, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 186 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(294, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 186 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-303, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 186 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-208, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 186 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(27, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 186 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-159, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 186 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(370, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 186 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(26, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 186 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 186 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 187 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 187 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 187 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 187 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(7, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 187 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(32, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 187 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 187 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(454, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 187 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-327, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 187 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(294, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 187 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-303, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 187 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-208, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 187 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(27, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 187 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-159, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 187 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(370, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 187 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(26, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 187 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 187 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 188 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 188 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 188 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 188 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(2, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 188 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(32, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 188 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 188 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(454, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 188 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-327, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 188 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(294, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 188 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-303, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 188 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-208, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 188 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(27, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 188 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-159, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 188 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(370, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 188 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(26, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 188 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 188 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 189 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 189 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 189 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 189 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(3, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 189 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(32, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 189 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 189 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(454, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 189 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-327, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 189 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(294, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 189 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-303, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 189 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-208, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 189 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(27, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 189 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-159, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 189 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(370, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 189 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(26, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 189 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 189 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 190 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 190 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 190 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 190 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(4, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 190 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(33, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 190 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 190 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(391, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 190 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-327, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 190 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(294, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 190 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-303, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 190 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-208, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 190 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(27, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 190 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-159, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 190 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(370, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 190 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(26, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 190 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 190 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 191 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 191 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 191 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 191 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(5, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 191 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(33, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 191 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 191 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(391, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 191 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-327, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 191 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(294, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 191 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-303, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 191 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-208, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 191 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(27, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 191 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-159, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 191 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(370, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 191 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(25, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 191 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 191 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 192 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 192 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 192 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 192 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(6, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 192 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(33, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 192 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 192 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(391, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 192 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-327, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 192 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(294, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 192 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-303, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 192 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-208, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 192 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(27, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 192 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-159, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 192 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(370, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 192 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(25, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 192 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(-1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 192 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 193 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 193 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 193 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 193 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(1, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 193 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(33, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 193 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 193 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(391, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 193 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-327, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 193 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(294, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 193 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-303, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 193 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-208, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 193 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(27, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 193 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-159, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 193 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(370, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 193 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(25, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 193 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(-1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 193 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 194 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 194 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 194 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 194 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(2, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 194 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(33, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 194 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 194 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(391, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 194 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-327, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 194 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(294, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 194 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-303, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 194 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-208, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 194 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(27, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 194 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-159, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 194 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(370, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 194 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(25, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 194 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(7, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 194 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 195 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 195 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 195 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 195 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(3, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 195 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(33, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 195 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 195 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(391, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 195 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-327, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 195 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(294, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 195 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-303, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 195 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-208, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 195 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(27, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 195 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-159, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 195 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(370, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 195 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(25, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 195 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(7, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 195 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 196 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 196 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 196 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 196 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(4, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 196 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(34, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 196 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 196 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(391, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 196 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-327, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 196 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(294, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 196 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-303, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 196 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-208, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 196 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(27, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 196 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-159, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 196 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-384, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 196 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(25, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 196 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(7, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 196 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 197 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 197 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 197 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 197 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(5, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 197 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(34, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 197 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 197 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(391, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 197 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-327, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 197 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(294, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 197 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-303, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 197 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-208, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 197 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(27, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 197 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-159, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 197 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-384, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 197 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(24, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 197 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(7, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 197 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 198 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 198 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 198 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 198 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(6, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 198 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(34, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 198 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 198 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(391, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 198 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-327, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 198 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(294, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 198 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-303, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 198 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-208, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 198 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(27, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 198 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-159, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 198 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-384, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 198 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(24, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 198 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 198 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 199 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 199 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 199 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 199 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(7, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 199 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(34, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 199 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 199 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(391, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 199 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-327, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 199 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(294, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 199 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-303, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 199 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-208, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 199 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(27, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 199 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-159, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 199 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-384, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 199 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(24, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 199 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 199 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 200 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 200 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 200 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 200 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(2, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 200 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(34, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 200 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 200 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(391, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 200 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-327, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 200 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(294, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 200 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-303, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 200 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-208, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 200 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(27, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 200 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-159, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 200 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-384, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 200 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(24, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 200 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 200 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 201 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 201 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 201 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 201 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(3, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 201 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(34, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 201 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 201 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(391, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 201 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-327, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 201 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(294, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 201 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-303, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 201 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-208, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 201 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(27, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 201 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-159, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 201 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-384, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 201 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(24, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 201 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 201 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 202 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 202 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 202 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 202 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(4, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 202 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(35, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 202 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 202 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(391, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 202 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-327, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 202 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(294, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 202 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-303, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 202 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-208, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 202 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(27, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 202 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(442, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 202 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-384, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 202 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(24, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 202 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 202 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 203 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 203 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 203 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 203 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(5, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 203 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(35, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 203 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 203 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(391, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 203 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-327, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 203 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(294, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 203 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-303, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 203 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-208, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 203 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(27, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 203 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(442, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 203 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-384, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 203 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(23, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 203 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 203 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 204 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 204 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 204 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 204 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(6, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 204 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(35, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 204 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 204 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(391, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 204 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-327, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 204 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(294, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 204 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-303, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 204 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-208, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 204 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(27, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 204 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(442, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 204 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-384, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 204 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(23, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 204 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 204 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 205 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 205 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 205 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 205 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(7, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 205 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(35, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 205 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 205 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(391, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 205 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-327, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 205 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(294, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 205 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-303, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 205 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-208, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 205 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(27, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 205 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(442, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 205 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-384, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 205 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(23, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 205 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 205 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 206 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 206 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 206 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 206 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(2, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 206 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(35, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 206 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 206 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(391, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 206 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-327, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 206 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(294, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 206 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-303, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 206 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-208, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 206 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(27, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 206 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(442, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 206 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-384, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 206 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(23, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 206 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 206 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 207 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 207 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 207 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 207 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(3, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 207 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(35, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 207 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 207 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(391, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 207 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-327, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 207 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(294, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 207 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-303, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 207 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-208, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 207 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(27, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 207 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(442, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 207 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-384, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 207 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(23, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 207 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 207 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 208 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 208 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 208 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 208 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(4, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 208 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(36, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 208 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 208 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(391, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 208 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-327, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 208 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(294, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 208 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-303, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 208 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-208, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 208 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-281, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 208 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(442, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 208 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-384, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 208 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(23, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 208 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 208 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 209 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 209 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 209 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 209 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(5, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 209 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(36, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 209 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 209 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(391, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 209 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-327, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 209 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(294, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 209 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-303, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 209 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-208, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 209 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-281, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 209 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(442, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 209 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-384, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 209 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(22, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 209 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 209 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 210 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 210 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 210 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 210 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(6, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 210 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(36, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 210 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 210 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(391, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 210 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-327, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 210 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(294, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 210 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-303, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 210 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-208, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 210 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-281, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 210 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(442, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 210 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-384, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 210 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(22, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 210 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 210 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 211 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 211 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 211 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 211 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(7, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 211 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(36, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 211 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 211 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(391, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 211 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-327, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 211 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(294, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 211 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-303, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 211 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-208, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 211 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-281, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 211 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(442, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 211 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-384, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 211 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(22, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 211 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 211 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 212 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 212 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 212 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 212 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(2, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 212 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(36, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 212 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 212 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(391, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 212 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-327, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 212 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(294, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 212 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-303, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 212 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-208, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 212 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-281, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 212 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(442, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 212 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-384, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 212 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(22, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 212 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 212 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 213 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 213 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 213 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 213 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(3, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 213 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(36, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 213 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 213 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(391, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 213 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-327, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 213 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(294, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 213 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-303, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 213 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-208, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 213 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-281, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 213 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(442, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 213 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-384, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 213 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(22, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 213 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 213 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 214 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 214 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 214 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 214 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(4, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 214 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(37, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 214 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 214 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(391, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 214 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-327, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 214 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(294, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 214 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-303, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 214 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-241, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 214 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-281, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 214 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(442, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 214 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-384, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 214 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(22, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 214 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 214 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 215 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 215 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 215 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 215 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(5, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 215 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(37, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 215 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 215 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(391, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 215 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-327, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 215 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(294, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 215 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-303, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 215 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-241, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 215 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-281, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 215 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(442, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 215 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-384, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 215 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(21, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 215 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 215 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 216 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 216 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 216 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 216 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(6, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 216 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(37, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 216 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 216 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(391, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 216 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-327, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 216 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(294, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 216 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-303, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 216 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-241, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 216 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-281, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 216 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(442, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 216 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-384, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 216 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(21, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 216 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 216 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 217 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 217 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 217 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 217 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(7, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 217 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(37, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 217 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 217 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(391, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 217 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-327, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 217 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(294, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 217 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-303, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 217 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-241, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 217 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-281, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 217 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(442, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 217 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-384, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 217 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(21, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 217 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 217 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 218 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 218 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 218 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 218 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(2, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 218 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(37, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 218 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 218 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(391, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 218 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-327, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 218 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(294, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 218 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-303, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 218 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-241, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 218 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-281, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 218 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(442, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 218 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-384, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 218 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(21, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 218 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 218 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 219 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 219 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 219 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 219 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(3, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 219 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(37, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 219 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 219 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(391, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 219 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-327, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 219 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(294, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 219 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-303, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 219 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-241, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 219 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-281, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 219 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(442, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 219 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-384, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 219 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(21, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 219 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 219 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 220 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 220 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 220 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 220 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(4, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 220 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(38, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 220 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 220 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(391, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 220 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-327, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 220 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(294, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 220 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-156, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 220 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-241, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 220 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-281, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 220 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(442, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 220 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-384, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 220 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(21, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 220 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 220 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 221 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 221 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 221 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 221 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(5, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 221 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(38, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 221 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 221 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(391, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 221 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-327, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 221 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(294, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 221 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-156, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 221 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-241, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 221 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-281, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 221 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(442, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 221 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-384, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 221 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(20, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 221 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 221 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 222 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 222 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 222 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 222 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(6, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 222 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(38, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 222 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 222 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(391, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 222 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-327, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 222 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(294, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 222 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-156, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 222 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-241, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 222 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-281, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 222 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(442, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 222 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-384, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 222 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(20, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 222 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 222 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 223 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 223 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 223 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 223 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(7, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 223 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(38, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 223 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 223 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(391, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 223 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-327, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 223 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(294, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 223 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-156, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 223 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-241, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 223 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-281, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 223 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(442, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 223 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-384, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 223 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(20, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 223 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 223 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 224 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 224 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 224 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 224 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(2, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 224 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(38, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 224 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 224 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(391, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 224 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-327, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 224 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(294, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 224 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-156, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 224 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-241, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 224 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-281, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 224 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(442, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 224 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-384, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 224 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(20, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 224 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 224 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 225 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 225 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 225 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 225 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(3, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 225 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(38, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 225 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 225 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(391, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 225 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-327, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 225 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(294, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 225 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-156, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 225 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-241, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 225 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-281, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 225 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(442, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 225 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-384, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 225 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(20, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 225 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 225 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 226 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 226 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 226 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 226 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(4, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 226 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(39, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 226 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 226 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(391, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 226 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-327, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 226 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-376, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 226 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-156, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 226 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-241, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 226 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-281, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 226 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(442, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 226 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-384, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 226 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(20, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 226 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 226 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 227 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 227 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 227 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 227 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(5, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 227 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(39, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 227 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 227 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(391, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 227 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-327, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 227 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-376, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 227 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-156, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 227 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-241, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 227 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-281, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 227 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(442, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 227 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-384, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 227 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(19, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 227 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 227 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 228 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 228 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 228 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 228 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(6, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 228 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(39, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 228 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 228 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(391, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 228 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-327, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 228 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-376, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 228 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-156, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 228 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-241, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 228 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-281, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 228 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(442, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 228 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-384, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 228 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(19, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 228 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 228 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 229 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 229 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 229 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 229 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(7, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 229 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(39, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 229 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 229 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(391, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 229 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-327, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 229 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-376, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 229 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-156, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 229 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-241, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 229 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-281, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 229 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(442, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 229 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-384, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 229 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(19, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 229 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 229 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 230 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 230 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 230 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 230 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(2, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 230 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(39, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 230 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 230 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(391, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 230 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-327, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 230 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-376, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 230 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-156, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 230 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-241, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 230 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-281, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 230 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(442, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 230 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-384, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 230 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(19, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 230 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 230 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 231 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 231 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 231 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 231 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(3, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 231 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(39, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 231 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 231 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(391, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 231 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-327, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 231 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-376, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 231 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-156, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 231 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-241, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 231 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-281, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 231 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(442, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 231 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-384, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 231 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(19, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 231 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 231 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 232 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 232 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 232 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 232 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(4, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 232 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(40, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 232 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 232 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(391, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 232 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-495, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 232 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-376, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 232 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-156, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 232 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-241, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 232 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-281, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 232 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(442, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 232 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-384, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 232 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(19, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 232 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 232 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 233 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 233 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 233 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 233 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(5, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 233 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(40, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 233 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 233 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(391, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 233 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-495, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 233 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-376, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 233 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-156, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 233 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-241, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 233 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-281, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 233 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(442, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 233 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-384, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 233 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(18, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 233 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 233 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 234 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 234 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 234 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 234 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(6, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 234 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(40, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 234 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 234 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(391, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 234 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-495, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 234 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-376, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 234 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-156, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 234 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-241, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 234 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-281, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 234 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(442, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 234 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-384, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 234 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(18, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 234 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 234 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 235 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 235 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 235 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 235 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(7, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 235 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(40, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 235 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 235 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(391, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 235 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-495, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 235 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-376, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 235 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-156, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 235 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-241, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 235 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-281, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 235 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(442, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 235 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-384, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 235 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(18, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 235 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 235 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 236 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 236 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 236 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 236 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(2, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 236 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(40, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 236 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 236 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(391, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 236 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-495, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 236 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-376, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 236 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-156, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 236 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-241, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 236 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-281, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 236 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(442, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 236 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-384, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 236 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(18, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 236 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 236 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 237 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 237 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 237 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 237 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(3, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 237 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(40, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 237 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 237 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(391, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 237 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-495, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 237 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-376, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 237 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-156, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 237 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-241, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 237 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-281, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 237 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(442, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 237 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-384, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 237 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(18, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 237 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 237 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 238 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 238 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 238 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 238 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(4, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 238 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(41, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 238 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 238 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(291, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 238 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-495, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 238 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-376, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 238 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-156, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 238 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-241, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 238 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-281, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 238 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(442, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 238 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-384, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 238 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(18, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 238 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 238 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 239 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 239 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 239 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 239 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(5, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 239 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(41, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 239 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 239 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(291, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 239 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-495, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 239 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-376, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 239 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-156, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 239 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-241, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 239 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-281, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 239 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(442, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 239 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-384, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 239 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(17, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 239 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 239 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 240 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 240 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 240 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 240 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(6, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 240 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(41, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 240 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 240 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(291, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 240 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-495, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 240 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-376, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 240 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-156, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 240 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-241, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 240 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-281, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 240 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(442, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 240 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-384, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 240 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(17, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 240 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(-1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 240 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 241 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 241 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 241 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 241 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(1, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 241 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(41, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 241 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 241 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(291, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 241 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-495, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 241 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-376, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 241 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-156, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 241 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-241, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 241 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-281, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 241 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(442, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 241 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-384, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 241 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(17, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 241 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(-1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 241 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 242 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 242 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 242 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 242 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(2, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 242 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(41, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 242 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 242 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(291, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 242 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-495, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 242 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-376, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 242 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-156, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 242 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-241, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 242 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-281, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 242 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(442, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 242 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-384, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 242 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(17, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 242 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(7, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 242 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 243 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 243 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 243 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 243 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(3, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 243 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(41, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 243 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 243 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(291, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 243 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-495, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 243 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-376, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 243 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-156, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 243 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-241, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 243 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-281, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 243 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(442, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 243 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-384, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 243 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(17, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 243 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(7, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 243 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 244 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 244 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 244 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 244 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(4, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 244 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(42, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 244 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 244 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(291, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 244 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-495, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 244 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-376, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 244 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-156, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 244 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-241, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 244 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-281, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 244 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(442, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 244 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(134, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 244 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(17, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 244 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(7, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 244 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 245 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 245 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 245 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 245 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(5, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 245 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(42, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 245 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 245 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(291, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 245 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-495, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 245 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-376, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 245 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-156, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 245 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-241, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 245 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-281, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 245 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(442, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 245 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(134, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 245 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(16, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 245 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(7, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 245 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 246 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 246 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 246 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 246 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(6, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 246 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(42, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 246 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 246 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(291, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 246 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-495, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 246 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-376, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 246 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-156, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 246 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-241, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 246 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-281, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 246 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(442, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 246 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(134, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 246 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(16, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 246 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 246 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 247 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 247 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 247 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 247 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(7, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 247 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(42, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 247 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 247 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(291, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 247 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-495, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 247 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-376, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 247 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-156, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 247 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-241, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 247 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-281, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 247 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(442, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 247 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(134, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 247 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(16, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 247 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 247 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 248 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 248 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 248 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 248 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(2, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 248 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(42, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 248 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 248 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(291, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 248 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-495, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 248 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-376, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 248 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-156, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 248 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-241, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 248 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-281, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 248 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(442, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 248 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(134, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 248 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(16, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 248 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 248 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 249 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 249 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 249 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 249 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(3, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 249 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(42, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 249 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 249 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(291, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 249 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-495, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 249 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-376, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 249 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-156, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 249 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-241, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 249 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-281, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 249 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(442, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 249 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(134, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 249 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(16, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 249 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 249 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 250 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 250 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 250 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 250 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(4, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 250 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(43, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 250 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 250 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(291, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 250 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-495, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 250 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-376, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 250 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-156, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 250 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-241, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 250 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-281, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 250 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-369, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 250 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(134, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 250 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(16, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 250 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 250 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 251 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 251 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 251 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 251 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(5, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 251 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(43, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 251 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 251 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(291, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 251 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-495, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 251 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-376, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 251 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-156, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 251 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-241, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 251 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-281, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 251 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-369, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 251 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(134, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 251 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(15, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 251 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 251 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 252 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 252 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 252 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 252 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(6, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 252 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(43, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 252 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 252 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(291, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 252 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-495, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 252 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-376, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 252 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-156, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 252 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-241, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 252 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-281, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 252 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-369, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 252 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(134, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 252 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(15, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 252 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 252 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 253 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 253 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 253 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 253 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(7, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 253 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(43, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 253 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 253 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(291, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 253 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-495, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 253 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-376, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 253 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-156, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 253 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-241, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 253 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-281, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 253 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-369, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 253 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(134, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 253 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(15, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 253 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 253 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 254 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 254 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 254 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 254 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(2, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 254 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(43, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 254 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 254 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(291, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 254 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-495, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 254 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-376, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 254 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-156, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 254 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-241, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 254 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-281, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 254 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-369, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 254 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(134, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 254 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(15, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 254 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 254 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 255 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 255 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 255 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 255 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(3, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 255 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(43, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 255 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 255 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(291, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 255 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-495, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 255 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-376, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 255 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-156, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 255 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-241, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 255 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(-281, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 255 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-369, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 255 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(134, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 255 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(15, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 255 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 255 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 256 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 256 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 256 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 256 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(4, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 256 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(44, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 256 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 256 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(291, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 256 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-495, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 256 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-376, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 256 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-156, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 256 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-241, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 256 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(228, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 256 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-369, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 256 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(134, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 256 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(15, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 256 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 256 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 257 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 257 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 257 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 257 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(5, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 257 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(44, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 257 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 257 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(291, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 257 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-495, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 257 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-376, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 257 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-156, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 257 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-241, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 257 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(228, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 257 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-369, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 257 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(134, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 257 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(14, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 257 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 257 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 258 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 258 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 258 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 258 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(6, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 258 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(44, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 258 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 258 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(291, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 258 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-495, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 258 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-376, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 258 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-156, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 258 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-241, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 258 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(228, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 258 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-369, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 258 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(134, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 258 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(14, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 258 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 258 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 259 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 259 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 259 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 259 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(7, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 259 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(44, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 259 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 259 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(291, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 259 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-495, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 259 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-376, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 259 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-156, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 259 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-241, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 259 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(228, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 259 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-369, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 259 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(134, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 259 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(14, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 259 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 259 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 260 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 260 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 260 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 260 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(2, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 260 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(44, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 260 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 260 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(291, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 260 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-495, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 260 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-376, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 260 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-156, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 260 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-241, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 260 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(228, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 260 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-369, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 260 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(134, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 260 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(14, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 260 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 260 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 261 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 261 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 261 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 261 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(3, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 261 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(44, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 261 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 261 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(291, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 261 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-495, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 261 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-376, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 261 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-156, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 261 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(-241, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 261 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(228, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 261 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-369, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 261 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(134, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 261 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(14, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 261 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 261 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 262 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 262 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 262 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 262 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(4, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 262 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(45, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 262 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 262 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(291, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 262 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-495, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 262 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-376, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 262 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-156, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 262 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(232, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 262 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(228, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 262 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-369, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 262 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(134, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 262 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(14, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 262 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 262 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 263 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 263 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 263 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 263 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(5, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 263 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(45, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 263 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 263 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(291, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 263 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-495, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 263 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-376, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 263 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-156, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 263 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(232, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 263 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(228, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 263 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-369, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 263 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(134, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 263 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(13, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 263 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 263 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 264 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 264 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 264 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 264 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(6, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 264 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(45, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 264 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 264 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(291, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 264 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-495, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 264 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-376, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 264 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-156, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 264 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(232, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 264 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(228, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 264 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-369, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 264 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(134, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 264 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(13, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 264 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 264 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 265 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 265 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 265 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 265 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(7, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 265 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(45, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 265 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 265 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(291, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 265 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-495, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 265 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-376, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 265 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-156, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 265 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(232, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 265 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(228, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 265 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-369, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 265 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(134, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 265 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(13, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 265 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 265 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 266 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 266 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 266 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 266 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(2, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 266 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(45, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 266 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 266 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(291, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 266 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-495, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 266 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-376, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 266 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-156, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 266 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(232, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 266 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(228, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 266 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-369, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 266 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(134, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 266 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(13, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 266 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 266 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 267 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 267 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 267 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 267 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(3, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 267 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(45, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 267 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 267 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(291, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 267 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-495, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 267 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-376, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 267 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-156, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 267 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(232, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 267 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(228, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 267 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-369, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 267 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(134, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 267 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(13, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 267 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 267 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 268 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 268 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 268 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 268 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(4, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 268 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(46, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 268 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 268 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(291, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 268 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-495, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 268 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-376, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 268 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(335, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 268 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(232, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 268 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(228, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 268 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-369, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 268 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(134, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 268 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(13, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 268 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 268 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 269 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 269 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 269 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 269 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(5, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 269 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(46, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 269 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 269 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(291, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 269 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-495, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 269 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-376, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 269 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(335, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 269 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(232, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 269 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(228, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 269 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-369, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 269 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(134, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 269 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(12, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 269 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 269 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 270 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 270 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 270 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 270 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(6, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 270 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(46, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 270 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 270 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(291, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 270 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-495, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 270 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-376, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 270 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(335, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 270 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(232, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 270 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(228, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 270 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-369, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 270 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(134, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 270 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(12, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 270 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 270 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 271 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 271 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 271 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 271 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(7, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 271 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(46, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 271 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 271 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(291, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 271 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-495, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 271 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-376, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 271 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(335, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 271 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(232, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 271 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(228, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 271 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-369, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 271 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(134, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 271 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(12, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 271 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 271 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 272 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 272 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 272 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 272 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(2, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 272 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(46, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 272 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 272 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(291, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 272 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-495, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 272 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-376, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 272 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(335, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 272 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(232, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 272 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(228, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 272 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-369, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 272 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(134, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 272 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(12, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 272 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 272 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 273 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 273 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 273 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 273 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(3, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 273 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(46, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 273 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 273 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(291, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 273 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-495, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 273 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-376, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 273 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(335, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 273 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(232, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 273 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(228, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 273 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-369, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 273 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(134, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 273 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(12, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 273 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 273 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 274 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 274 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 274 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 274 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(4, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 274 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(47, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 274 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 274 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(291, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 274 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-495, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 274 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-459, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 274 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(335, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 274 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(232, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 274 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(228, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 274 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-369, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 274 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(134, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 274 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(12, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 274 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 274 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 275 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 275 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 275 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 275 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(5, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 275 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(47, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 275 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 275 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(291, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 275 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-495, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 275 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-459, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 275 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(335, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 275 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(232, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 275 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(228, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 275 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-369, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 275 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(134, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 275 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(11, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 275 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 275 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 276 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 276 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 276 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 276 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(6, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 276 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(47, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 276 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 276 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(291, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 276 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-495, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 276 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-459, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 276 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(335, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 276 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(232, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 276 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(228, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 276 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-369, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 276 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(134, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 276 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(11, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 276 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 276 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 277 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 277 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 277 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 277 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(7, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 277 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(47, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 277 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 277 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(291, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 277 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-495, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 277 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-459, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 277 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(335, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 277 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(232, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 277 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(228, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 277 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-369, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 277 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(134, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 277 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(11, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 277 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 277 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 278 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 278 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 278 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 278 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(2, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 278 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(47, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 278 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 278 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(291, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 278 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-495, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 278 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-459, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 278 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(335, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 278 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(232, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 278 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(228, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 278 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-369, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 278 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(134, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 278 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(11, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 278 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 278 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 279 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 279 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 279 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 279 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(3, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 279 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(47, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 279 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 279 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(291, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 279 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-495, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 279 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-459, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 279 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(335, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 279 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(232, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 279 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(228, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 279 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-369, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 279 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(134, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 279 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(11, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 279 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 279 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 280 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 280 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 280 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 280 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(4, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 280 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(48, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 280 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 280 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(291, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 280 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-344, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 280 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-459, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 280 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(335, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 280 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(232, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 280 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(228, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 280 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-369, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 280 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(134, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 280 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(11, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 280 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 280 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 281 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 281 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 281 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 281 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(5, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 281 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(48, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 281 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 281 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(291, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 281 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-344, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 281 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-459, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 281 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(335, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 281 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(232, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 281 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(228, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 281 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-369, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 281 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(134, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 281 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(10, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 281 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 281 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 282 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 282 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 282 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 282 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(6, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 282 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(48, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 282 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 282 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(291, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 282 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-344, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 282 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-459, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 282 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(335, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 282 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(232, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 282 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(228, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 282 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-369, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 282 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(134, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 282 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(10, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 282 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 282 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 283 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 283 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 283 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 283 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(7, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 283 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(48, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 283 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 283 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(291, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 283 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-344, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 283 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-459, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 283 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(335, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 283 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(232, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 283 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(228, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 283 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-369, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 283 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(134, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 283 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(10, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 283 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 283 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 284 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 284 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 284 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 284 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(2, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 284 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(48, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 284 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 284 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(291, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 284 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-344, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 284 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-459, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 284 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(335, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 284 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(232, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 284 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(228, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 284 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-369, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 284 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(134, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 284 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(10, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 284 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 284 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 285 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 285 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 285 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 285 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(3, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 285 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(48, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 285 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 285 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(291, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 285 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-344, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 285 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-459, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 285 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(335, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 285 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(232, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 285 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(228, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 285 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-369, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 285 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(134, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 285 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(10, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 285 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 285 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 286 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 286 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 286 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 286 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(4, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 286 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(49, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 286 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 286 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(19, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 286 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-344, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 286 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-459, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 286 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(335, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 286 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(232, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 286 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(228, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 286 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-369, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 286 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(134, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 286 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(10, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 286 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 286 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 287 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 287 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 287 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 287 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(5, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 287 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(49, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 287 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 287 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(19, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 287 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-344, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 287 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-459, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 287 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(335, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 287 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(232, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 287 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(228, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 287 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-369, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 287 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(134, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 287 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(9, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 287 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 287 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 288 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 288 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 288 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 288 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(6, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 288 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(49, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 288 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 288 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(19, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 288 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-344, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 288 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-459, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 288 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(335, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 288 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(232, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 288 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(228, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 288 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-369, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 288 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(134, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 288 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(9, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 288 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(-1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 288 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 289 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 289 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 289 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 289 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(1, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 289 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(49, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 289 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 289 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(19, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 289 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-344, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 289 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-459, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 289 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(335, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 289 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(232, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 289 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(228, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 289 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-369, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 289 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(134, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 289 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(9, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 289 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(-1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 289 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 290 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 290 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 290 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 290 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(2, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 290 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(49, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 290 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 290 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(19, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 290 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-344, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 290 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-459, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 290 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(335, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 290 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(232, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 290 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(228, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 290 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-369, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 290 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(134, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 290 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(9, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 290 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(7, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 290 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 291 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 291 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 291 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 291 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(3, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 291 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(49, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 291 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 291 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(19, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 291 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-344, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 291 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-459, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 291 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(335, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 291 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(232, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 291 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(228, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 291 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-369, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 291 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(134, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 291 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(9, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 291 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(7, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 291 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 292 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 292 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 292 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 292 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(4, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 292 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(50, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 292 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 292 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(19, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 292 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-344, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 292 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-459, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 292 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(335, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 292 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(232, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 292 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(228, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 292 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-369, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 292 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(307, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 292 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(9, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 292 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(7, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 292 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 293 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 293 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 293 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 293 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(5, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 293 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(50, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 293 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 293 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(19, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 293 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-344, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 293 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-459, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 293 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(335, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 293 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(232, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 293 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(228, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 293 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-369, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 293 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(307, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 293 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(8, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 293 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(7, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 293 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 294 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 294 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 294 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 294 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(6, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 294 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(50, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 294 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 294 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(19, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 294 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-344, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 294 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-459, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 294 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(335, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 294 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(232, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 294 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(228, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 294 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-369, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 294 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(307, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 294 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(8, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 294 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 294 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 295 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 295 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 295 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 295 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(7, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 295 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(50, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 295 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 295 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(19, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 295 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-344, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 295 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-459, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 295 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(335, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 295 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(232, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 295 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(228, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 295 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-369, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 295 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(307, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 295 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(8, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 295 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 295 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 296 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 296 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 296 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 296 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(2, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 296 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(50, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 296 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 296 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(19, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 296 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-344, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 296 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-459, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 296 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(335, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 296 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(232, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 296 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(228, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 296 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-369, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 296 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(307, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 296 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(8, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 296 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 296 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 297 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 297 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 297 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 297 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(3, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 297 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(50, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 297 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 297 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(19, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 297 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-344, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 297 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-459, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 297 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(335, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 297 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(232, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 297 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(228, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 297 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(-369, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 297 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(307, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 297 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(8, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 297 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 297 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 298 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 298 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 298 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 298 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(4, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 298 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(51, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 298 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 298 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(19, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 298 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-344, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 298 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-459, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 298 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(335, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 298 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(232, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 298 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(228, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 298 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 298 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(307, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 298 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(8, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 298 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 298 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 299 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 299 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 299 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 299 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(5, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 299 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(51, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 299 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 299 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(19, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 299 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-344, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 299 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-459, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 299 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(335, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 299 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(232, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 299 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(228, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 299 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 299 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(307, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 299 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(7, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 299 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 299 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 300 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 300 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 300 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 300 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(6, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 300 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(51, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 300 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 300 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(19, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 300 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-344, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 300 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-459, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 300 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(335, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 300 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(232, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 300 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(228, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 300 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 300 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(307, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 300 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(7, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 300 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 300 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 301 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 301 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 301 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 301 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(7, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 301 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(51, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 301 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 301 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(19, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 301 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-344, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 301 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-459, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 301 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(335, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 301 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(232, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 301 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(228, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 301 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 301 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(307, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 301 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(7, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 301 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 301 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 302 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 302 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 302 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 302 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(2, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 302 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(51, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 302 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 302 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(19, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 302 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-344, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 302 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-459, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 302 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(335, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 302 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(232, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 302 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(228, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 302 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 302 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(307, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 302 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(7, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 302 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 302 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 303 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 303 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 303 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 303 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(3, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 303 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(51, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 303 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 303 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(19, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 303 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-344, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 303 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-459, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 303 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(335, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 303 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(232, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 303 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(228, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 303 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 303 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(307, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 303 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(7, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 303 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 303 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 304 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 304 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 304 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 304 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(4, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 304 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(52, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 304 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 304 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(19, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 304 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-344, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 304 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-459, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 304 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(335, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 304 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(232, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 304 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 304 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 304 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(307, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 304 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(7, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 304 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 304 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 305 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 305 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 305 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 305 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(5, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 305 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(52, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 305 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 305 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(19, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 305 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-344, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 305 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-459, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 305 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(335, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 305 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(232, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 305 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 305 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 305 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(307, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 305 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 305 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 305 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 306 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 306 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 306 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 306 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(6, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 306 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(52, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 306 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 306 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(19, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 306 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-344, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 306 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-459, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 306 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(335, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 306 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(232, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 306 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 306 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 306 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(307, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 306 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 306 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 306 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 307 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 307 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 307 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 307 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(7, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 307 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(52, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 307 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 307 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(19, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 307 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-344, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 307 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-459, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 307 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(335, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 307 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(232, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 307 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 307 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 307 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(307, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 307 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 307 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 307 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 308 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 308 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 308 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 308 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(2, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 308 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(52, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 308 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 308 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(19, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 308 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-344, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 308 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-459, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 308 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(335, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 308 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(232, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 308 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 308 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 308 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(307, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 308 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 308 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 308 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 309 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 309 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 309 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 309 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(3, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 309 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(52, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 309 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 309 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(19, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 309 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-344, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 309 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-459, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 309 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(335, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 309 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(232, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 309 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 309 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 309 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(307, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 309 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 309 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 309 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 310 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 310 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 310 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 310 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(4, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 310 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(53, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 310 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 310 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(19, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 310 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-344, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 310 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-459, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 310 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(335, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 310 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 310 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 310 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 310 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(307, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 310 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 310 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 310 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 311 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 311 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 311 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 311 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(5, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 311 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(53, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 311 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 311 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(19, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 311 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-344, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 311 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-459, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 311 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(335, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 311 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 311 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 311 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 311 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(307, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 311 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 311 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 311 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 312 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 312 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 312 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 312 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(6, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 312 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(53, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 312 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 312 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(19, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 312 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-344, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 312 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-459, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 312 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(335, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 312 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 312 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 312 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 312 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(307, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 312 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 312 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 312 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 313 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 313 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 313 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 313 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(7, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 313 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(53, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 313 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 313 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(19, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 313 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-344, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 313 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-459, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 313 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(335, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 313 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 313 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 313 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 313 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(307, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 313 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 313 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 313 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 314 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 314 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 314 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 314 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(2, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 314 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(53, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 314 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 314 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(19, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 314 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-344, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 314 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-459, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 314 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(335, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 314 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 314 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 314 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 314 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(307, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 314 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 314 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 314 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 315 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 315 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 315 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 315 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(3, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 315 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(53, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 315 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 315 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(19, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 315 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-344, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 315 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-459, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 315 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(335, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 315 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 315 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 315 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 315 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(307, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 315 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 315 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 315 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 316 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 316 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 316 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 316 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(4, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 316 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(54, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 316 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 316 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(19, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 316 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-344, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 316 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-459, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 316 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 316 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 316 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 316 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 316 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(307, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 316 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 316 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 316 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 317 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 317 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 317 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 317 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(5, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 317 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(54, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 317 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 317 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(19, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 317 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-344, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 317 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-459, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 317 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 317 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 317 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 317 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 317 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(307, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 317 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 317 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 317 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 318 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 318 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 318 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 318 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(6, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 318 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(54, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 318 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 318 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(19, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 318 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-344, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 318 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-459, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 318 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 318 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 318 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 318 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 318 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(307, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 318 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 318 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 318 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 319 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 319 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 319 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 319 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(7, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 319 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(54, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 319 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 319 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(19, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 319 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-344, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 319 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-459, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 319 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 319 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 319 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 319 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 319 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(307, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 319 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 319 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 319 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 320 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 320 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 320 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 320 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(2, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 320 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(54, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 320 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 320 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(19, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 320 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-344, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 320 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-459, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 320 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 320 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 320 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 320 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 320 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(307, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 320 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 320 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 320 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 321 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 321 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 321 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 321 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(3, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 321 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(54, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 321 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 321 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(19, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 321 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-344, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 321 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(-459, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 321 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 321 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 321 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 321 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 321 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(307, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 321 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 321 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 321 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 322 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 322 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 322 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 322 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(4, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 322 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(55, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 322 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 322 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(19, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 322 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-344, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 322 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 322 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 322 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 322 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 322 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 322 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(307, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 322 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 322 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 322 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 323 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 323 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 323 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 323 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(5, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 323 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(55, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 323 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 323 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(19, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 323 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-344, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 323 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 323 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 323 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 323 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 323 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 323 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(307, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 323 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 323 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 323 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 324 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 324 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 324 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 324 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(6, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 324 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(55, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 324 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 324 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(19, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 324 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-344, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 324 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 324 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 324 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 324 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 324 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 324 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(307, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 324 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 324 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 324 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 325 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 325 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 325 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 325 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(7, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 325 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(55, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 325 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 325 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(19, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 325 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-344, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 325 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 325 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 325 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 325 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 325 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 325 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(307, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 325 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 325 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 325 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 326 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 326 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 326 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 326 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(2, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 326 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(55, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 326 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 326 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(19, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 326 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-344, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 326 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 326 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 326 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 326 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 326 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 326 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(307, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 326 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 326 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 326 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 327 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 327 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 327 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 327 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(3, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 327 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(55, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 327 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 327 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(19, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 327 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(-344, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 327 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 327 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 327 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 327 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 327 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 327 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(307, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 327 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 327 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 327 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 328 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 328 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 328 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 328 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(4, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 328 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(56, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 328 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 328 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(19, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 328 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 328 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 328 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 328 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 328 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 328 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 328 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(307, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 328 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 328 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 328 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 329 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 329 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 329 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 329 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(5, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 329 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(56, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 329 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 329 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(19, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 329 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 329 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 329 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 329 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 329 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 329 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 329 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(307, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 329 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 329 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 329 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 330 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 330 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 330 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 330 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(6, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 330 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(56, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 330 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 330 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(19, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 330 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 330 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 330 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 330 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 330 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 330 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 330 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(307, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 330 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 330 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 330 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 331 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 331 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 331 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 331 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(7, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 331 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(56, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 331 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 331 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(19, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 331 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 331 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 331 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 331 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 331 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 331 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 331 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(307, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 331 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 331 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 331 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 332 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 332 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 332 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 332 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(2, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 332 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(56, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 332 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 332 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(19, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 332 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 332 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 332 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 332 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 332 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 332 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 332 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(307, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 332 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 332 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 332 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 333 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 333 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 333 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 333 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(3, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 333 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(56, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 333 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 333 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(19, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 333 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 333 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 333 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 333 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 333 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 333 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 333 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(307, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 333 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 333 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 333 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 334 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 334 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 334 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 334 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(4, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 334 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(57, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 334 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 334 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 334 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 334 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 334 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 334 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 334 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 334 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 334 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(307, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 334 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 334 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 334 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 335 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 335 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 335 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 335 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(5, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 335 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(57, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 335 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 335 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 335 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 335 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 335 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 335 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 335 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 335 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 335 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(307, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 335 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 335 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 335 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 336 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 336 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 336 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 336 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(6, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 336 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(57, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 336 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 336 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 336 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 336 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 336 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 336 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 336 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 336 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 336 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(307, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 336 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 336 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(-1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 336 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 337 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 337 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 337 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 337 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(1, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 337 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(57, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 337 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 337 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 337 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 337 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 337 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 337 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 337 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 337 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 337 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(307, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 337 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 337 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(-1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 337 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 338 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 338 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 338 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 338 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(2, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 338 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(57, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 338 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 338 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 338 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 338 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 338 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 338 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 338 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 338 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 338 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(307, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 338 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 338 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(7, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 338 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 339 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 339 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 339 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 339 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(3, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 339 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(57, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 339 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 339 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 339 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 339 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 339 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 339 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 339 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 339 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 339 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(307, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 339 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 339 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(7, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 339 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 340 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 340 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 340 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 340 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(4, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 340 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(58, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 340 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 340 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 340 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 340 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 340 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 340 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 340 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 340 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 340 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-73, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 340 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 340 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(7, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 340 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 341 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 341 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 341 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 341 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(5, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 341 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(58, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 341 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 341 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 341 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 341 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 341 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 341 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 341 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 341 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 341 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-73, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 341 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 341 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(7, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 341 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 342 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 342 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 342 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 342 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(6, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 342 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(58, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 342 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 342 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 342 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 342 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 342 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 342 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 342 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 342 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 342 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-73, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 342 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 342 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 342 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 343 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 343 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 343 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 343 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(7, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 343 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(58, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 343 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 343 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 343 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 343 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 343 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 343 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 343 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 343 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 343 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-73, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 343 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 343 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 343 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 344 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 344 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 344 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 344 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(2, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 344 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(58, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 344 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 344 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 344 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 344 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 344 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 344 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 344 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 344 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 344 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-73, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 344 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 344 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 344 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 345 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 345 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 345 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 345 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(8, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 345 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(58, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 345 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 345 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 345 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 345 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 345 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 345 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 345 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 345 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 345 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-73, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 345 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 345 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 345 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 346 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 346 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 346 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 346 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(9, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 346 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(58, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 346 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 346 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 346 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 346 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 346 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 346 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 346 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 346 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 346 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-73, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 346 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(8, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 346 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 346 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 347 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 347 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({}), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 347 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 347 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(10, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 347 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(58, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 347 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 347 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 347 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 347 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 347 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 347 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 347 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 347 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 347 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-73, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 347 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(8, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 347 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 347 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 348 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 348 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({75, }), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 348 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 348 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(11, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 348 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(58, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 348 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 348 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 348 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 348 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 348 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 348 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 348 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 348 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 348 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-73, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 348 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(8, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 348 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 348 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 349 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 349 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({75, }), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 349 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 349 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(12, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 349 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(58, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 349 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 349 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 349 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 349 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 349 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 349 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 349 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 349 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 349 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-73, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 349 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(7, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 349 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 349 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 350 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 350 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({75, }), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 350 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 350 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(13, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 350 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(58, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 350 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 350 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 350 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 350 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 350 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 350 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 350 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 350 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 350 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-73, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 350 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(7, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 350 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 350 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 351 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 351 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({75, }), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 351 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 351 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(14, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 351 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(58, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 351 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 351 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 351 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 351 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 351 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 351 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 351 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 351 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 351 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-73, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 351 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(7, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 351 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 351 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 352 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 352 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({75, }), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 352 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 352 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(9, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 352 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(58, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 352 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 352 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 352 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 352 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 352 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 352 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 352 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 352 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 352 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-73, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 352 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(7, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 352 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 352 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 353 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 353 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({75, }), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 353 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 353 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(10, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 353 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(58, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 353 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 353 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 353 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 353 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 353 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 353 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 353 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 353 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 353 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-73, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 353 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(7, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 353 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 353 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 354 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 354 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({75, 151, }), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 354 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 354 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(11, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 354 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(58, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 354 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 354 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 354 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 354 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 354 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 354 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 354 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 354 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 354 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-73, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 354 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(7, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 354 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 354 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 355 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 355 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({75, 151, }), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 355 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 355 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(12, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 355 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(58, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 355 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 355 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 355 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 355 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 355 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 355 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 355 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 355 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 355 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-73, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 355 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 355 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 355 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 356 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 356 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({75, 151, }), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 356 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 356 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(13, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 356 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(58, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 356 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 356 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 356 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 356 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 356 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 356 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 356 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 356 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 356 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-73, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 356 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 356 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 356 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 357 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 357 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({75, 151, }), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 357 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 357 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(14, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 357 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(58, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 357 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 357 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 357 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 357 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 357 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 357 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 357 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 357 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 357 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-73, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 357 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 357 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 357 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 358 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 358 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({75, 151, }), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 358 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 358 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(9, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 358 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(58, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 358 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 358 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 358 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 358 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 358 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 358 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 358 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 358 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 358 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-73, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 358 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 358 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 358 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 359 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 359 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({75, 151, }), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 359 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 359 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(10, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 359 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(58, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 359 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 359 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 359 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 359 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 359 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 359 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 359 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 359 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 359 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-73, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 359 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 359 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 359 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 360 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 360 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({75, 151, 227, }), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 360 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 360 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(11, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 360 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(58, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 360 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 360 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 360 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 360 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 360 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 360 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 360 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 360 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 360 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-73, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 360 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 360 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 360 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 361 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 361 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({75, 151, 227, }), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 361 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 361 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(12, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 361 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(58, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 361 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 361 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 361 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 361 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 361 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 361 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 361 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 361 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 361 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-73, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 361 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 361 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 361 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 362 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 362 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({75, 151, 227, }), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 362 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 362 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(13, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 362 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(58, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 362 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 362 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 362 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 362 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 362 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 362 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 362 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 362 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 362 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-73, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 362 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 362 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 362 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 363 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 363 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({75, 151, 227, }), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 363 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 363 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(14, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 363 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(58, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 363 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 363 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 363 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 363 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 363 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 363 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 363 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 363 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 363 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-73, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 363 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 363 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 363 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 364 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 364 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({75, 151, 227, }), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 364 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 364 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(9, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 364 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(58, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 364 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 364 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 364 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 364 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 364 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 364 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 364 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 364 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 364 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-73, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 364 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 364 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 364 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 365 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 365 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({75, 151, 227, }), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 365 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 365 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(10, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 365 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(58, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 365 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 365 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 365 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 365 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 365 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 365 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 365 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 365 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 365 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-73, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 365 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 365 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 365 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 366 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 366 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({75, 151, 227, -155, }), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 366 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 366 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(11, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 366 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(58, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 366 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 366 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 366 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 366 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 366 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 366 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 366 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 366 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 366 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-73, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 366 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(5, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 366 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 366 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 367 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 367 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({75, 151, 227, -155, }), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 367 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 367 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(12, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 367 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(58, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 367 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 367 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 367 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 367 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 367 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 367 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 367 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 367 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 367 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-73, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 367 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 367 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 367 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 368 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 368 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({75, 151, 227, -155, }), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 368 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 368 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(13, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 368 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(58, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 368 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 368 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 368 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 368 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 368 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 368 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 368 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 368 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 368 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-73, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 368 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 368 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 368 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 369 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 369 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({75, 151, 227, -155, }), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 369 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 369 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(14, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 369 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(58, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 369 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 369 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 369 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 369 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 369 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 369 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 369 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 369 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 369 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-73, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 369 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 369 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 369 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 370 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 370 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({75, 151, 227, -155, }), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 370 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 370 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(9, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 370 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(58, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 370 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 370 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 370 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 370 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 370 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 370 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 370 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 370 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 370 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-73, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 370 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 370 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 370 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 371 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 371 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({75, 151, 227, -155, }), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 371 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 371 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(10, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 371 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(58, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 371 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 371 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 371 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 371 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 371 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 371 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 371 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 371 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 371 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-73, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 371 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 371 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 371 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 372 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 372 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({75, 151, 227, -155, 419, }), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 372 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 372 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(11, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 372 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(58, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 372 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 372 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 372 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 372 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 372 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 372 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 372 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 372 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 372 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-73, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 372 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(4, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 372 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 372 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 373 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 373 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({75, 151, 227, -155, 419, }), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 373 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 373 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(12, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 373 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(58, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 373 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 373 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 373 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 373 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 373 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 373 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 373 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 373 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 373 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-73, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 373 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 373 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 373 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 374 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 374 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({75, 151, 227, -155, 419, }), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 374 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 374 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(13, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 374 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(58, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 374 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 374 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 374 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 374 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 374 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 374 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 374 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 374 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 374 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-73, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 374 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 374 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 374 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 375 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 375 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({75, 151, 227, -155, 419, }), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 375 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 375 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(14, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 375 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(58, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 375 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 375 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 375 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 375 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 375 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 375 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 375 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 375 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 375 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-73, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 375 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 375 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 375 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 376 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 376 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({75, 151, 227, -155, 419, }), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 376 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 376 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(9, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 376 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(58, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 376 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 376 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 376 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 376 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 376 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 376 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 376 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 376 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 376 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-73, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 376 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 376 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 376 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 377 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 377 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({75, 151, 227, -155, 419, }), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 377 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 377 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(10, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 377 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(58, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 377 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 377 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 377 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 377 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 377 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 377 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 377 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 377 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 377 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-73, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 377 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 377 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 377 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 378 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 378 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({75, 151, 227, -155, 419, 76, }), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 378 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 378 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(11, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 378 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(58, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 378 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 378 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 378 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 378 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 378 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 378 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 378 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 378 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 378 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-73, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 378 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(3, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 378 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 378 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 379 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 379 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({75, 151, 227, -155, 419, 76, }), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 379 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 379 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(12, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 379 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(58, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 379 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 379 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 379 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 379 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 379 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 379 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 379 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 379 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 379 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-73, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 379 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 379 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 379 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 380 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 380 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({75, 151, 227, -155, 419, 76, }), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 380 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 380 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(13, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 380 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(58, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 380 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 380 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 380 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 380 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 380 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 380 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 380 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 380 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 380 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-73, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 380 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 380 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 380 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 381 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 381 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({75, 151, 227, -155, 419, 76, }), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 381 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 381 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(14, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 381 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(58, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 381 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 381 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 381 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 381 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 381 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 381 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 381 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 381 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 381 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-73, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 381 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 381 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 381 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 382 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 382 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({75, 151, 227, -155, 419, 76, }), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 382 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 382 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(9, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 382 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(58, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 382 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 382 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 382 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 382 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 382 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 382 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 382 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 382 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 382 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-73, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 382 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 382 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 382 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 383 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 383 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({75, 151, 227, -155, 419, 76, }), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 383 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 383 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(10, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 383 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(58, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 383 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 383 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 383 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 383 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 383 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 383 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 383 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 383 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 383 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-73, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 383 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 383 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 383 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 384 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 384 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({75, 151, 227, -155, 419, 76, 392, }), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 384 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 384 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(11, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 384 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(58, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 384 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 384 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 384 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 384 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 384 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 384 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 384 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 384 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 384 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-73, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 384 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(2, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 384 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 384 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 385 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 385 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({75, 151, 227, -155, 419, 76, 392, }), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 385 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 385 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(12, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 385 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(58, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 385 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 385 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 385 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 385 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 385 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 385 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 385 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 385 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 385 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-73, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 385 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 385 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 385 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 386 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 386 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({75, 151, 227, -155, 419, 76, 392, }), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 386 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 386 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(13, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 386 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(58, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 386 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 386 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 386 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 386 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 386 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 386 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 386 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 386 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 386 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-73, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 386 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 386 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(-1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 386 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 387 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 387 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({75, 151, 227, -155, 419, 76, 392, }), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 387 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 387 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(15, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 387 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(58, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 387 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 387 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 387 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 387 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 387 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 387 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 387 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 387 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 387 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-73, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 387 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 387 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(-1, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 387 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 388 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 388 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({75, 151, 227, -155, 419, 76, 392, }), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 388 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 388 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(16, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 388 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(58, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 388 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 388 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 388 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 388 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 388 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 388 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 388 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 388 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 388 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-73, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 388 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 388 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(7, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 388 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 389 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 389 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({75, 151, 227, -155, 419, 76, 392, }), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 389 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 389 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(9, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 389 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(58, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 389 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 389 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 389 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 389 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 389 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 389 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 389 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 389 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 389 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-73, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 389 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 389 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(7, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 389 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 390 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 390 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({75, 151, 227, -155, 419, 76, 392, }), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 390 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 390 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(10, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 390 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(58, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 390 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 390 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 390 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 390 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 390 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 390 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 390 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 390 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 390 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-73, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 390 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 390 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(7, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 390 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 391 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 391 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 391 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 391 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(11, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 391 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(58, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 391 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 391 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 391 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 391 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 391 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 391 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 391 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 391 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 391 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-73, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 391 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(1, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 391 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(7, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 391 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 392 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 392 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 392 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 392 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(12, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 392 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(58, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 392 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 392 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 392 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 392 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 392 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 392 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 392 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 392 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 392 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-73, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 392 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 392 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(7, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 392 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 393 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 393 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 393 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 393 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(13, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 393 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(58, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 393 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 393 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 393 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 393 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 393 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 393 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 393 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 393 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 393 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-73, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 393 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 393 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 393 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 394 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 394 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 394 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 394 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(14, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 394 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(58, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 394 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 394 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 394 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 394 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 394 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 394 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 394 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 394 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 394 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-73, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 394 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 394 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 394 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 395 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 395 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 395 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 395 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(9, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 395 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(58, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 395 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 395 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 395 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 395 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 395 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 395 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 395 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 395 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 395 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-73, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 395 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 395 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 395 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 396 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 396 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 396 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 396 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(17, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 396 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(58, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 396 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 396 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 396 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 396 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 396 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 396 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 396 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 396 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 396 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-73, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 396 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 396 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 396 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    vm.Step();
    ASSERT_EQ(vector<string>({"input r8", "store r9 7 <- reset", "jzilch r8 print <- read", "input [r9]", "dec r8", "dec r9", "jneg r9 reset", "jmp read", "store r8 8 <- print", "jzilch r8 done <- emit", "output [r9]", "dec r8", "dec r9", "jneg r9 wrap", "jmp emit", "store r9 7 <- wrap", "jmp emit", "dec r8 <- done", }), vm.GetInstructions()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 397 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInstructions didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({57, 1, 275, 444, 324, -404, -74, -393, 438, -18, -260, -224, -444, 101, -407, 118, -424, -478, -67, 75, -488, 293, 18, -450, 454, 370, -159, 27, -208, -303, 294, -327, 391, -384, 442, -281, -241, -156, -376, -495, 291, 134, -369, 228, 232, 335, -459, -344, 19, 307, 75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetInput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 397 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetInput didn't give back the list I expected.";
    ASSERT_EQ(vector<int>({75, 151, 227, -155, 419, 76, 392, -73, }), vm.GetOutput()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 397 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetOutput didn't give back the list I expected.";
    {
      map<string, int> expected_labels = {{"done", 17}, {"emit", 9}, {"print", 8}, {"read", 2}, {"reset", 1}, {"wrap", 15}, };
      ASSERT_EQ(expected_labels, vm.GetLabels()) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 397 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but GetLabels didn't give back the map I expected.";
    }
    ASSERT_EQ(18, vm.GetRegisters().find("pc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 397 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register pc wasn't what I expected it to be.";
    ASSERT_EQ(58, vm.GetRegisters().find("nc")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 397 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register nc wasn't what I expected it to be.";
    ASSERT_EQ(0, vm.GetRegisters().find("ra")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 397 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register ra wasn't what I expected it to be.";
    ASSERT_EQ(392, vm.GetRegisters().find("r0")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 397 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r0 wasn't what I expected it to be.";
    ASSERT_EQ(76, vm.GetRegisters().find("r1")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 397 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r1 wasn't what I expected it to be.";
    ASSERT_EQ(419, vm.GetRegisters().find("r2")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 397 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r2 wasn't what I expected it to be.";
    ASSERT_EQ(-155, vm.GetRegisters().find("r3")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 397 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r3 wasn't what I expected it to be.";
    ASSERT_EQ(227, vm.GetRegisters().find("r4")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 397 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r4 wasn't what I expected it to be.";
    ASSERT_EQ(151, vm.GetRegisters().find("r5")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 397 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r5 wasn't what I expected it to be.";
    ASSERT_EQ(75, vm.GetRegisters().find("r6")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 397 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r6 wasn't what I expected it to be.";
    ASSERT_EQ(-73, vm.GetRegisters().find("r7")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 397 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r7 wasn't what I expected it to be.";
    ASSERT_EQ(-1, vm.GetRegisters().find("r8")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 397 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r8 wasn't what I expected it to be.";
    ASSERT_EQ(6, vm.GetRegisters().find("r9")->second) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 397 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but register r9 wasn't what I expected it to be.";
    bool saw_exception = false;
    try {
      vm.Step();
    } catch (int actual_exception) {
      saw_exception = true;
      ASSERT_EQ(BleakVirtualMachine::INSTRUCTION_OUT_OF_BOUNDS, actual_exception) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 398 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but the exception raised on the last call to Step wasn't what I expected.";
    }
    ASSERT_TRUE(saw_exception) << "I tried stepping a virtual machine on source cases/tail8.bleak and input cases/tail8_57.in 398 steps, having reset " << reset << " time" << (reset == 1 ? "" : "s") << ", but the last call to Step didn't raise exception INSTRUCTION_OUT_OF_BOUNDS as I expected.";
    vm.Reset();
  }
}

